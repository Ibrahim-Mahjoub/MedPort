{"version":3,"sources":["react-components/ProfileImage/static/default-profile-icon.png","react-components/Header/static/logo.png","react-components/Home/static/home-bg-doctor-patient-online.png","react-components/Dashboard/static/dashboard-picture.png","react-components/Profile/static/opaque-upload-profile.png","react-components/Profile/static/pencil-edit-icon.png","actions/router.js","constants/apiRoutes.js","actions/user.js","constants/userType.js","react-components/ProfileImage/index.js","react-components/ProfileDropdown/index.js","react-components/Header/index.js","react-components/LoginForm/index.js","react-components/Home/index.js","validators/input-validators.js","validators/form-validators.js","react-components/DoctorSignUpForm/index.js","actions/institution.js","react-components/InstitutionSelector/index.js","react-components/InstitutionCreationForm/index.js","actions/doctor.js","react-components/DoctorSignUp/index.js","react-components/ReferralSignUpForm/index.js","actions/patient.js","react-components/PatientSignUpForm/index.js","react-components/ReferralSignUp/index.js","actions/referral.js","react-components/SignUp/index.js","react-components/NavBar/index.js","actions/healthNews.js","react-components/Dashboard/index.js","actions/file.js","react-components/FileUpload/index.js","actions/request.js","react-components/RequestForm/index.js","react-components/PreviousRequests/index.js","react-components/Request/index.js","react-components/AdminInstitutionsOverview/index.js","react-components/AdminInstitutions/index.js","react-components/AdminInstitutionView/index.js","react-components/AdminDoctorsOverview/index.js","react-components/AdminDoctors/index.js","react-components/AdminDoctorView/index.js","react-components/AdminPatientsOverview/index.js","react-components/AdminDoctorSelector/index.js","react-components/AdminPatientSignUp/index.js","react-components/AdminPatients/index.js","react-components/AdminPatientView/index.js","react-components/PatientSelector/index.js","react-components/ResultsOverview/index.js","react-components/ProfileDetail/index.js","react-components/Profile/index.js","App.js","index.js"],"names":["module","exports","redirect","component","path","props","history","replace","baseUrl","ApiRoutes","login","getUserType","checkSession","logout","createUser","profile","doctorById","institution","doctor","patientsByDoctorId","referral","patient","user","request","requestStatus","files","filesUploaded","updateLoginForm","loginComp","field","value","name","setState","getUserProfileInfo","id","callback","profileComponent","url","fetch","credentials","then","res","status","json","profileInfoJson","Object","keys","map","profileDetail","includes","catch","error","console","log","UserType","ProfileImage","state","profileImageSrc","getUserProfileImage","bind","setUserProfileImage","this","appComponent","userType","prevProps","file","imageBase64","defaultProfileImage","img","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","originFileObj","Request","method","body","JSON","stringify","headers","Accept","updateUserProfileImage","className","imgClassName","alt","altName","src","React","Component","withRouter","ProfileDropdown","goToProfile","app","push","loggedInUser","message","type","onClick","to","Header","redirectHome","logo","LoginForm","loginValues","username","password","undefined","displayInvalidCredentials","displayInvalid","onFinish","layout","Item","label","rules","required","prefix","UserOutlined","placeholder","LockOutlined","htmlType","Home","bgImage","span","title","bordered","isRequired","input","isMatch","pattern","RegExp","test","isMinLength","minLength","length","isNewUserName","checkUserName","exists","validateName","fieldName","setError","validateAddress","address","validatePostalCode","postalCode","isPostalCode","validatePhoneNumber","phoneNumber","isPhoneNumber","validateEmail","email","isEmail","validatePassword","validateMID","MID","isMID","validateHCN","HCN","isHCN","validateInstitutionID","institutionID","validateDoctorID","doctorID","validateUserName","validateUserNameAsync","a","DoctorSignUpForm","errors","firstName","lastName","errorCodes","submit","validate","handleChange","back","onSubmit","onChange","event","preventDefault","valid","next","prevState","getInstitutions","institutions","deleteInstitution","institutionInfo","getInstitution","InstitutionSelector","data","disabled","key","uid","_id","InstitutionCreationForm","createInstitution","handleInputChange","target","addInstitution","getPatientsByDoctorID","patientsArray","getDoctors","doctors","deleteDoctor","getDoctor","DoctorSignUp","getSignUpForm","index","0","nextStatus","1","previousStatus","2","submitInstitutionID","createDoctor","statusIndex","newIndex","doctorInfo","addDoctor","ReferralSignUpForm","errorCode","code","doctorSignUp","referralCode","deletePatient","patientID","patientInfo","PatientSignUpForm","createPatient","referrerID","addPatient","ReferralSignUp","formattedValue","toUpperCase","setStatus","setReferrerID","submitReferralCode","SignUp","NavBar","redirectRequest","val","Nav","Link","getTopHealthNews","newsArticlesJson","condensedNewsArticleArray","articles","article","urlToImage","newsArticleArray","Meta","Card","Dashboard","onClickArticle","articleUrl","window","open","getNewsArticles","newsArticleCards","newsArticle","hoverable","cover","description","newsArticleRows","slice","newsArticleRowData","loggedInUserGeneralProfile","generalProfile","gutter","backgroundPic","getUserUploadedFiles","filesArray","fileList","addFile","fileInfo","fileJson","FileUpload","updatePreviousFilesOnPage","displayLastUploadedFiles","previousFileDownloadLinks","reverse","numOfFilesToDisplay","fileLinks","lastFilesList","fileLink","download","fileName","href","base64","onUploadChange","uploadedFileList","isPdf","isLt2M","size","listedUploadFile","fileBase64","currentUploadFileBase64","currentUploadFileName","formValues","uploader","patients","reportType","dateUploaded","moment","pdf","displayPatients","patientNameElements","Option","indexOf","patientsListDropdown","uploading","showUploadList","showUploadListProps","beforeUpload","action","UploadOutlined","showRemoveIcon","getUserRequests","requestsArray","pendingRequests","filter","confirmedRequests","setRequestStatus","requestId","requestJson","addRequest","requestInfo","TextArea","Input","RequestForm","createdByUser","createdBy","receiver","date","format","time","reason","backToPreviousRequestsPage","LeftOutlined","use12Hours","autoSize","TabPane","Tabs","PreviousRequests","tableHeaderNames","actionHeaderName","updateRequestsOnPage","displayTableElements","pendingTableRowsRequests","confirmedTableRowsRequests","pendingRequestsRowData","confirmedRequestsRowData","showModal","modalMessage","openRequest","modalVisible","handleModalOk","handleModalCancel","displayTableHeaders","tableHeaders","header","requestData","tableRowsRequests","req","createdByName","toUser","toName","loggedInUserProfileId","tableRow","displayActionNeeded","icon","InfoCircleOutlined","onOk","onCancel","visible","defaultActiveKey","tab","newRequest","changeView","getPreviousRequestsPage","AdminInstitutionsOverview","handleClose","getTableHeaders","getTableRows","removeInstitution","closable","onClose","tableRows","onConfirm","e","okText","cancelText","filtered","AdminInstitutions","getView","AdminInstitutionView","infoHeaders","doctorHeaders","match","params","edit","getDoctorTableRows","updateInstitutionInfo","toggleEdit","resetInputs","updateInstitution","msg","AdminDoctorsOverview","removeDoctor","AdminDoctors","AdminDoctorView","patientHeaders","getPropertiesToChange","getPatientTableRows","getInstitutionOptions","getInstitutionInfo","updateDoctorInfo","options","newDoctorInfo","propertiesToChange","updateDoctor","AdminPatientsOverview","removePatient","AdminDoctorSelector","AdminPatientSignUp","AdminPatients","AdminPatientView","getDoctorInfo","getDoctorOptions","updatePatientInfo","doctorName","newPatientInfo","updatePatient","PatientSelector","ResultsOverview","patientId","ProfileDetail","inEditMode","isEditable","detailName","detailValue","displayEdit","displayView","displayInvalidinput","onPressEnter","updateUserProfileDetail","detail","defaultValue","EditOutlined","Profile","setProfileDetails","setDoctorInfo","doctorJson","institutionJson","setInstitutionInfo","uploadProfileImage","profileImageFile","rotate","grid","shape","beforeCrop","uploadPlusImage","editProfileImagePencil","profileDetailComponent","profileDetailName","split","updateUserProfileInfo","profileDetailName2","forceUpdate","isJpgOrPng","App","getLoggedInUserView","getDefaultView","basename","exact","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.013928a2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default-profile-icon.10238340.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/home-bg-doctor-patient-online.abe47494.png\";","module.exports = __webpack_public_path__ + \"static/media/dashboard-picture.da245a3e.png\";","module.exports = __webpack_public_path__ + \"static/media/opaque-upload-profile.60e6efcd.png\";","module.exports = __webpack_public_path__ + \"static/media/pencil-edit-icon.2a1c7262.png\";","/*  \r\n\tprogramatically redirects to path, by replacing the current path in\r\n\tthe history prop instead of pushing a new path, in order to maintain\r\n\tpersistance of the global, app component state.\r\n\r\n\tcomponent: a reference to the component where the action is taking place\r\n\t\r\n\tpath: a url path defined in the app component BrowserRouter \r\n\r\n    Note: the component were the action is taking place must be wrapped in \r\n\t      withRouter to make use of the history prop.\r\n*/\r\nexport const redirect = (component, path) => {\r\n\tcomponent.props.history.replace(path);\r\n}","// export const baseUrl = 'http://localhost:5000'; // LEAVE THIS UNCOMMENTED\r\nexport const baseUrl = 'https://medport.6261636b656e64.live';\r\nexport const ApiRoutes = {\r\n    login: baseUrl + '/api/users/login',\r\n    getUserType: baseUrl  +'/api/users/userType/',\r\n    checkSession: baseUrl + '/api/users/check-session',\r\n    logout: baseUrl + '/api/users/logout',\r\n    createUser: baseUrl + \"/api/users\",\r\n    profile: baseUrl + \"/api/profile/\",\r\n    doctorById: baseUrl + \"/api/doctors/\",\r\n    institution: baseUrl + '/api/institutions',\r\n    doctor: baseUrl + '/api/doctors',\r\n    patientsByDoctorId: baseUrl + \"/api/doctors/patients/\",\r\n    referral: baseUrl + '/api/referrals',\r\n    patient: baseUrl + '/api/patients',\r\n    user: baseUrl + '/api/users',\r\n    request: baseUrl + '/api/requests',\r\n    requestStatus: baseUrl + '/api/requests/status/',\r\n    files: baseUrl + '/api/files/',\r\n    filesUploaded: baseUrl + '/api/files/uploaded'\r\n}","// Functions to help with user actions.\r\n\r\nimport { ApiRoutes } from \"../constants/apiRoutes\";\r\n\r\n/* Gets the type of the user (patient/doctor/admin) */\r\nexport const getUserType = (username, callback, component) => {\r\n    const url = ApiRoutes.getUserType + username;\r\n    var userType = null;\r\n    \r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(json => {\r\n            if (json && json.userType) {\r\n                userType = json.userType;\r\n                if(component) {\r\n                    component.setState({...component.state, userType: userType });\r\n                }\r\n                if(callback) {\r\n                    callback(userType);\r\n                }\r\n                return userType;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n// A function to check if a user is logged in on the session cookie\r\nexport const readCookie = (app) => {\r\n    fetch(ApiRoutes.checkSession, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(json => {\r\n            if (json && json.loggedInUser) {\r\n                app.setState({ loggedInUser: json.loggedInUser, userType: json.userType });\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n};\r\n\r\n// A functon to update the login form state\r\nexport const updateLoginForm = (loginComp, field) => {\r\n    const value = field.value;\r\n    const name = field.name;\r\n\r\n    loginComp.setState({\r\n        [name]: value\r\n    });\r\n};\r\n\r\n// A function to send a POST request with the user to be logged in\r\nexport const login = (loginComp, app) => {\r\n    // Create our request constructor with all the parameters we need\r\n    const request = new Request(ApiRoutes.login, {\r\n        method: \"post\",\r\n        body: JSON.stringify(loginComp.state),\r\n        headers: {\r\n            \"Accept\": \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    // Send the request with fetch()\r\n    fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(json => {\r\n            if (json.loggedInUser !== undefined) {\r\n                app.setState({ loggedInUser: json.loggedInUser, userType: json.userType });\r\n                loginComp.displayInvalidCredentials(false);\r\n            } else {\r\n                loginComp.displayInvalidCredentials(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            loginComp.displayInvalidCredentials(true);\r\n            console.log(error);\r\n        });\r\n};\r\n\r\n// A function to send a GET request to logout the current user\r\nexport const logout = (app) => {\r\n    const url = ApiRoutes.logout;\r\n\r\n    fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            app.setState({\r\n                loggedInUser: null,\r\n                userType: null,\r\n                message: { type: \"\", body: \"\" }\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n};\r\n\r\n/* Returns the profile info of the loggedInUser or a different user by username */\r\nexport const getUserProfileInfo = (id, callback, profileComponent) => { \r\n    // get all of the profile info for the loggedInUser\r\n    var url = ApiRoutes.profile;\r\n\r\n    // get general profile info for a different user (firstname, lastname, email)\r\n    if(id){\r\n        url += id;\r\n    }\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(profileInfoJson => {\r\n            if (profileInfoJson) {\r\n                if(callback){\r\n                    callback(profileInfoJson);\r\n                }\r\n                if(profileComponent){\r\n                    Object.keys(profileInfoJson).map( (profileDetail) => {\r\n                        if([\"_id\", \"user\", \"__v\"].includes(profileDetail) === false ) {\r\n                            profileComponent.setState({ [profileDetail]: profileInfoJson[profileDetail] });\r\n                        }\r\n                    })\r\n                }\r\n                return profileInfoJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nexport const updateUserProfileInfo = (profileDetail, profileComponent) => {\r\n    const url = ApiRoutes.profile;\r\n\r\n    const request = new Request(url, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(\r\n            { \"op\": \"replace\", \"path\": \"/\" + profileDetail.name, \"value\": profileDetail.value }\r\n        ),\r\n        headers: {\r\n            \"Accept\": \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    return fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(profileInfoJson => {\r\n            /* if generalProfile.email for example, then replace entire generalProfile,\r\n            since  profileInfoJson[generalProfile.email] doesn't work */\r\n            const profileDetailName = profileDetail.name.split(\".\")[0];\r\n\r\n            if (profileInfoJson && profileInfoJson[profileDetailName]) {\r\n                if(profileComponent){\r\n                    profileComponent.setState({ [profileDetailName]: profileInfoJson[profileDetailName] });\r\n                }\r\n                return profileInfoJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nexport const getUserProfileImage = (component) => {\r\n    const url = ApiRoutes.profile + \"image\";\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(json => {\r\n            if (json) {\r\n                if(component){\r\n                    component.setState({ profileImageSrc: json.imageBase64 });\r\n                }\r\n                return json;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nexport const updateUserProfileImage = (imageBase64, component) => {\r\n    const url = ApiRoutes.profile + \"image\";\r\n\r\n    const request = new Request(url, {\r\n        method: \"post\",\r\n        body: JSON.stringify(\r\n            { \"imageBase64\": imageBase64 }\r\n        ),\r\n        headers: {\r\n            Accept: \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    return fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(json => {\r\n            if (json) {\r\n                if(component){\r\n                    component.setState({ profileImageSrc: json.imageBase64 });\r\n                }\r\n                return json;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n/*\r\n\tchecks if username already exists on server\r\n\treturns true iff username exists, otherwise returns false\r\n*/\r\nexport const checkUserName = (username) => {\r\n\t// code below requires server call\r\n\tconst url = ApiRoutes.user + \"/check-username\";\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"post\",\r\n\t\tbody: JSON.stringify({ username: username }),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\treturn fetch(request).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\t// username exists\r\n\t\t\treturn true;\r\n\t\t} else if (res.status === 404) {\r\n\t\t\t// username DNE\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}","export const UserType = {\r\n    patient: 'patient',\r\n    doctor: 'doctor',\r\n    admin: 'admin'\r\n}\r\n","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport defaultProfileImage from \"./static/default-profile-icon.png\";\r\nimport { getUserProfileImage, updateUserProfileImage } from '../../actions/user';\r\nimport { UserType } from '../../constants/userType';\r\n\r\nclass ProfileImage extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            profileImageSrc: null\r\n        }\r\n\r\n        this.getUserProfileImage = this.getUserProfileImage.bind(this);\r\n        this.setUserProfileImage = this.setUserProfileImage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.appComponent && this.props.appComponent.state.userType === UserType.admin){\r\n            return;\r\n        } else {\r\n            this.getUserProfileImage();\r\n        }\r\n    }\r\n   \r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.file !== this.props.file) {\r\n            this.setUserProfileImage();\r\n        }\r\n    }\r\n\r\n    getUserProfileImage() {\r\n        getUserProfileImage(this).then( (json) => {\r\n            if(json.imageBase64 === null) {\r\n                this.setState({profileImageSrc: defaultProfileImage})\r\n            }\r\n        })\r\n    }\r\n\r\n    setUserProfileImage() {\r\n        const file = this.props.file;\r\n        if (file.status === 'done') {\r\n            getBase64(file.originFileObj, profileImageSrc => {\r\n                updateUserProfileImage(profileImageSrc, this)\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <>\r\n                {this.state.profileImageSrc \r\n                ? <img className={this.props.imgClassName} alt={this.props.altName} src={this.state.profileImageSrc}/> \r\n                : <img className={this.props.imgClassName} alt={this.props.altName} src={defaultProfileImage}/>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n}\r\n\r\nexport default withRouter(ProfileImage);","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport { redirect } from '../../actions/router';\r\nimport { logout } from '../../actions/user';\r\nimport { UserType } from '../../constants/userType';\r\nimport ProfileImage from '../ProfileImage';\r\n\r\nclass ProfileDropdown extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.logout = this.logout.bind(this);\r\n        this.goToProfile = this.goToProfile.bind(this);\r\n    }\r\n    \r\n    logout() {\r\n        this.props.history.push(\"/\");\r\n        logout(this.props.appComponent);\r\n    }\r\n\r\n    goToProfile() {\r\n        redirect(this, '/profile')\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"profileDropdown\">\r\n                <ProfileImage altName=\"profileImageforLoggedInUser\" imgClassName=\"userProfileImage\" appComponent={this.props.appComponent}/>\r\n                {/* <img alt=\"profileImageforLoggedInUser\" className=\"userProfileImage\" src={this.getUserProfileImage()}/> */}\r\n                <div className=\"dropdownContent\">\r\n                    {this.props.appComponent.state.userType !== UserType.admin &&\r\n                        <Link className=\"profileLink\" onClick={this.goToProfile} to=\"/profile\">Profile</Link>\r\n                    }\r\n                    <Link className=\"logout\" onClick={this.logout} to=\"/\">Log out</Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(ProfileDropdown);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport logo from \"./static/logo.png\"\r\n\r\nimport { redirect } from \"../../actions/router\";\r\nimport ProfileDropdown from \"../ProfileDropdown\";\r\n\r\n/* The Header Component */\r\nclass Header extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          user: this.props.appComponent.state.loggedInUser\r\n        };\r\n\r\n        this.redirectHome = this.redirectHome.bind(this);\r\n    }\r\n\r\n    redirectHome() {\r\n        if(this.state.user){\r\n            redirect(this, '/dashboard');\r\n\r\n        } else {\r\n            redirect(this, '/');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"header\">\r\n                <img alt={\"logo\"} src={logo} className=\"logo\" onClick={this.redirectHome}/>\r\n                <h1>MedPort</h1>\r\n                {this.state.user &&\r\n                <ProfileDropdown appComponent={this.props.appComponent}/>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\nimport { Row, Card, Form, Input, Button} from \"antd\";\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { UserType } from \"../../constants/userType\";\r\nimport { login, updateLoginForm } from \"../../actions/user\";\r\n\r\nclass LoginForm extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            displayInvalid: false,\r\n            username: \"\",\r\n            password: \"\"\r\n        };\r\n\r\n        this.login = this.login.bind(this);\r\n        this.displayInvalidCredentials = this.displayInvalidCredentials.bind(this);\r\n    }\r\n\r\n    login = loginValues => {\r\n        const username = loginValues.username;\r\n        const password = loginValues.password;\r\n        updateLoginForm(this, {name: \"username\", value: username});\r\n        updateLoginForm(this, {name: \"password\", value: password});\r\n        login(this, this.props.appComponent);\r\n      }\r\n\r\n    displayInvalidCredentials(displayInvalid) {\r\n        this.setState({ displayInvalid });\r\n    }\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <Row className=\"loginForm\">\r\n                <Card className=\"login-card\">\r\n                    <Form\r\n                        name=\"login\"\r\n                        className=\"login-form\"\r\n                        onFinish={this.login}\r\n                        layout=\"vertical\"\r\n                    >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            label=\"Username:\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please enter your Username.',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<UserOutlined/>}\r\n                                placeholder=\"Username\" \r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            label=\"Password:\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please enter your Password.',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined/>}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item className=\"login-form-item\">\r\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            Log in\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                    {this.state.displayInvalid &&\r\n                        <p className=\"invalidCredMessage\">Invalid Credentials</p>\r\n                    }\r\n                </Card>\r\n                <Card className=\"signup-card\">\r\n                    <p>Don't have an account?\r\n                        <Link to=\"/signup\" className=\"signup-redirect\"> Sign up</Link>\r\n                    </p>\r\n                </Card>\r\n            </Row>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(LoginForm);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\nimport Header from './../Header';\r\nimport LoginForm from './../LoginForm';\r\nimport bgImage from \"./static/home-bg-doctor-patient-online.png\";\r\nimport { Card, Row, Col } from \"antd\";\r\n\r\n/* Component for the Home page */\r\nclass Home extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"home__bg\">\r\n        <Header appComponent={this.props.appComponent}/>\r\n        <Row className=\"login-background\">\r\n          <img alt={\"bgImagelogo\"} src={bgImage} className=\"home__bg-image\"/>\r\n          <LoginForm\r\n            appComponent={this.props.appComponent}\r\n          />\r\n        </Row>\r\n        <Row className=\"featureDisplay\">\r\n          <Col span={8}>\r\n            <Card title=\"View your medical test reports online\" bordered={false} className=\"roundedCardLeft\">\r\n              After a patient gets a medical test done, their test report will be uploaded online \r\n              in one convenient place for them and their family doctor to review.\r\n              This removes the need for you to have to go into the doctors office to receive your test results.\r\n              You can also upload your previously received test results from other doctors or specialists for further analysis.\r\n            </Card>\r\n          </Col>\r\n          <Col span={8}>\r\n            <Card title=\"Receive feedback along with test reports\" bordered={false}>\r\n              A family doctor can upload test results with attached notes to discuss with you.\r\n              By commenting on a thread under the test result, a doctor and patient can easily discuss test results with each other.\r\n              You can reply to the doctor's feedback, ask any questions, and raise any concerns.\r\n              In case you forget what your doctor recommended; no worries!\r\n              You can easily refer back to the documented record of the discussion.\r\n              This keeps conversations organized as they are attached to the specific test result in discussion.\r\n            </Card>\r\n          </Col>\r\n          <Col span={8}>\r\n            <Card title=\"Doctor-Patient communication made easy\" bordered={false} className=\"roundedCardRight\">\r\n              Further discussion between the doctor and the patient can be facilitated on\r\n              the website by requesting an in-person or over-the-phone appointment. You or your doctor can submit a request\r\n              to set a time to call each other or visit the doctor's office. After a doctor looks at a test result and thinks\r\n              you need a new follow-up test conducted, they can easily send you a request to get the test done and provide more information\r\n              inside the request itself!\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Home);\r\n","import { checkUserName } from \"../actions/user\";\r\n\r\n/* \r\n\tReturns true iff input is not empty, otherwise returns false. \r\n*/\r\nexport const isRequired = (input) => {\r\n\tif (input) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n/* \r\n\tReturns true iff there is a pattern match in the input, \r\n\totherwise returns false. \r\n*/\r\nexport const isMatch = (input, pattern) => {\r\n\tconst regex = new RegExp(pattern);\r\n\t\r\n\treturn regex.test(input);\r\n}\r\n\r\n/* \r\n\tReturns true iff input has a length greater than or equal to minLength,\r\n\totherwise returns false.\r\n*/\r\nexport const isMinLength = (input, minLength) => {\r\n\treturn input.length >= minLength;\r\n}\r\n\r\n/* \r\n\tReturns true iff input has a length less than or equal to maxLength,\r\n\totherwise returns false.\r\n*/\r\nexport const isMaxLength = (input, maxLength) => {\r\n\treturn input.length <= maxLength;\r\n}\r\n\r\n/* \r\n\tReturns true iff input is a match to the email pattern,\r\n\tOtherwise returns false.\r\n\tNote: email pattern obtained from https://emailregex.com/\r\n*/\r\nexport const isEmail = (input) => {\r\n\treturn isMatch(input, '^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$');\r\n}\r\n\r\n/* \r\n\tReturns true iff input is a match to the phone number pattern,\r\n\tOtherwise returns false. \r\n*/\r\nexport const isPhoneNumber = (input) => {\r\n\treturn isMatch(input, '^[0-9]{10,11}$');\r\n}\r\n\r\n/* \r\n\tReturns true iff input is a match to the postal code pattern,\r\n\tOtherwise returns false. \r\n*/\r\nexport const isPostalCode = (input) => {\r\n\treturn isMatch(input, '^[a-zA-Z][0-9][a-zA-Z][ -]?[0-9][a-zA-Z][0-9]$');\r\n}\r\n\r\n/* \r\n\tReturns true iff input is a match to the Medical ID Number pattern,\r\n\tOtherwise returns false. \r\n*/\r\nexport const isMID = (input) => {\r\n\treturn isMatch(input, '^([a-zA-Z]{4})([0-9]{8})$');\r\n}\r\n\r\n/* \r\n\tReturns true iff input is a match to the Health Card Number pattern,\r\n\tOtherwise returns false. \r\n*/\r\nexport const isHCN = (input) => {\r\n\treturn isMatch(input, '^[0-9]{4}[ -]?[0-9]{3}[ -]?[0-9]{3}[ -]?[a-zA-Z]{2}$');\r\n}\r\n\r\n/*\r\n\tReturns true iff input is not a pre-existing username, otherwise returns \r\n\tfalse.\r\n\t\r\n\tNote: returns promise.\r\n*/\r\nexport const isNewUserName = (username) => {\r\n\treturn checkUserName(username).then(exists => {\r\n\t\treturn !exists;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}","// import input validators\r\nimport { isRequired, isMinLength, isMaxLength, isEmail, isPhoneNumber, isPostalCode, isMID, isHCN, isNewUserName } from \"./input-validators\";\r\n\r\n\r\n// validates the name form field\r\nexport const validateName = (fieldName, name, setError) => {\r\n\tif (!isRequired(name)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isMinLength(name, 2)) {\r\n\t\tsetError(fieldName, true, 'Minimum 2 characters');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the address form field\r\nexport const validateAddress = (fieldName, address, setError) => {\r\n\tif (!isRequired(address)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isMinLength(address, 4)) {\r\n\t\tsetError(fieldName, true, 'Minimum 4 characters');\r\n\t\treturn false;\r\n\t}else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the postalCode form field\r\nexport const validatePostalCode = (fieldName, postalCode, setError) => {\r\n\tif (!isRequired(postalCode)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isPostalCode(postalCode)) {\r\n\t\tsetError(fieldName, true, 'Enter a valid postal code');\r\n\t\treturn false;\r\n\t}else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the phoneNumber form field\r\nexport const validatePhoneNumber = (fieldName, phoneNumber, setError) => {\r\n\tif (!isRequired(phoneNumber)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isPhoneNumber(phoneNumber)) {\r\n\t\tsetError(fieldName, true, 'Enter a valid phone number');\r\n\t\treturn false;\r\n\t}else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the email form field\r\nexport const validateEmail = (fieldName, email, setError) => {\r\n\tif (!isRequired(email)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isEmail(email)) {\r\n\t\tsetError(fieldName, true, 'Enter a valid email address');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the password form field\r\nexport const validatePassword = (fieldName, password, setError) => {\r\n\tif (!isRequired(password)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isMinLength(password, 3)) {\r\n\t\tsetError(fieldName, true, 'Minimum 3 characters');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the MID form field\r\nexport const validateMID = (fieldName, MID, setError) => {\r\n\tif (!isRequired(MID)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isMID(MID)) {\r\n\t\tsetError(fieldName, true, 'Enter a valid Medical ID Number');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the health card number field\r\nexport const validateHCN = (fieldName, HCN, setError) => {\r\n\tif (!isRequired(HCN)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isHCN(HCN)) {\r\n\t\tsetError(fieldName, true, 'Enter a valid Health Card Number');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the institutionID field\r\nexport const validateInstitutionID = (fieldName, institutionID, setError) => {\r\n\tif (!isRequired(institutionID)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the doctorID field\r\nexport const validateDoctorID = (fieldName, doctorID, setError) => {\r\n\tif (!isRequired(doctorID)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the patientID field\r\nexport const validatePatientID = (fieldName, patientID, setError) => {\r\n\tif (!isRequired(patientID)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the referral code field\r\n// Note specific to referral sign up form\r\nexport const validateReferralCode = (referralCode, setError) => {\r\n\tif (!isRequired(referralCode)) {\r\n\t\tsetError(true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// validates the username field\r\nexport const validateUserName = (fieldName, username, setError) => {\r\n\tif (!isRequired(username)) {\r\n\t\tsetError(fieldName, true, 'Please fill out this field');\r\n\t\treturn false;\r\n\t} else if (!isMinLength(username, 3)) {\r\n\t\tsetError(fieldName, true, 'Minimum 3 characters');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// applies asynchronous validators to the username field\r\n// Note: returns a promise.\r\nexport const validateUserNameAsync = async (fieldName, username, setError) => {\r\n\tconst isNew = await isNewUserName(username);\r\n\t\r\n\tif (!isNew) {\r\n\t\tsetError(fieldName, true, 'Username already exists');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tsetError(fieldName, false, '');\r\n\t\treturn true;\r\n\t}\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// import form validators\r\nimport { validateName, \r\n\t\t validateMID, \r\n\t\t validateEmail, \r\n\t\t validatePassword, \r\n\t\t validateUserName, \r\n\t\t validateUserNameAsync } from \"../../validators/form-validators\";\r\n\r\nclass DoctorSignUpForm extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terrors: {\r\n\t\t\t\tfirstName: false,\r\n\t\t\t\tlastName: false,\r\n\t\t\t\tMID: false,\r\n\t\t\t\temail: false,\r\n\t\t\t\tusername: false,\r\n\t\t\t\tpassword: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tfirstName: '',\r\n\t\t\t\tlastName: '',\r\n\t\t\t\tMID: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// bind functions\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tfirstName,\r\n\t\t\tlastName,\r\n\t\t\temail,\r\n\t\t\tusername,\r\n\t\t\tpassword,\r\n\t\t\tMID,\r\n\t\t\thandleChange,\r\n\t\t\tback,\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<form className=\"DoctorSignUpForm\" onSubmit={this.submit}>\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<label><b>Doctor Sign Up</b></label>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='firstName' \r\n\t\t\t\t\t\tclassName={this.state.errors.firstName ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='First Name'\r\n\t\t\t\t\t\tvalue={firstName}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.firstName ? <p className=\"error-message\" >{this.state.errorCodes.firstName}</p> : null}\r\n\t\t\t\t\r\n\t\t\t\t\t<label>Last Name</label>\t\t\t\t\t\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='lastName' \r\n\t\t\t\t\t\tclassName={this.state.errors.lastName ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\tvalue={lastName}\r\n\t\t\t\t\t\tonChange={handleChange} \r\n\t\t\t\t\t/> \r\n\t\t\t\t\t{this.state.errors.lastName ? <p className=\"error-message\" >{this.state.errorCodes.lastName}</p> : null}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Medical ID Number</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='MID'\r\n\t\t\t\t\t\tclassName={this.state.errors.MID ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Medical ID Number'\r\n\t\t\t\t\t\tvalue={MID}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.MID ? <p className=\"error-message\" >{this.state.errorCodes.MID}</p> : null}\r\n\t\t\t\r\n\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='email' \r\n\t\t\t\t\t\tclassName={this.state.errors.email ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={handleChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.email ? <p className=\"error-message\" >{this.state.errorCodes.email}</p> : null}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>User Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='username' \r\n\t\t\t\t\t\tclassName={this.state.errors.username ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='User Name'\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.username ? <p className=\"error-message\" >{this.state.errorCodes.username}</p> : null}\r\n\t\t\t\t\r\n\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password' \r\n\t\t\t\t\t\tname='password' \r\n\t\t\t\t\t\tclassName={this.state.errors.password ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={handleChange}  \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.password ? <p className=\"error-message\" >{this.state.errorCodes.password}</p> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<button type=\"button\" className=\"back\" onClick={back}>Back</button>\r\n\t\t\t\t\r\n\t\t\t\t<button type=\"submit\" className=\"next\">Next</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// onSubmit event handler\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tthis.validate().then(valid => {\r\n\t\t\tif (valid) {\r\n\t\t\t\tthis.props.next();\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tasync validate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('firstName', this.props.firstName, this.setError) &&\r\n\t\t\tvalidateName('lastName',this.props.lastName, this.setError) &&\r\n\t\t\tvalidateMID('MID', this.props.MID, this.setError) &&\r\n\t\t\tvalidateEmail('email', this.props.email, this.setError) &&\r\n\t\t\tvalidateUserName('username', this.props.username, this.setError) &&\r\n\t\t\tawait validateUserNameAsync('username', this.props.username, this.setError) &&\r\n\t\t\tvalidatePassword('password', this.props.password, this.setError));\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n}\r\n\r\nexport default DoctorSignUpForm;","// Functions to help with institution actions.\r\n\r\nimport { ApiRoutes } from \"../constants/apiRoutes\";\r\n\r\n/* Returns the institution's info when given institutionID */\r\nexport const getInstitutionInfo = (institutionID, callback) => {\r\n    const url = \"/api/institutions/\" + institutionID;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(institutionJson => {\r\n            if(institutionJson){\r\n                if(callback){\r\n                    callback(institutionJson);\r\n                }\r\n                return institutionJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* \r\n\tsubmits new institution information to server for account creation.\r\n\tNote: returns newly created institution's ID on success\r\n*/\r\nexport const addInstitution = (institution) => {\r\n\tconst url = ApiRoutes.institution;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"post\",\r\n\t\tbody: JSON.stringify(institution),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\t// returns a promise\r\n\treturn fetch(request)\r\n\t.then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(institutionInfo => {\r\n\t\t// return institution id\r\n\t\treturn institutionInfo._id;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/* \r\n\tReturns a list of institutions obtained from the server\r\n*/\r\nexport const getInstitutions = async () => {\r\n\tconst url = ApiRoutes.institution;\r\n\t\r\n\t// return a promise\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(institutions => {\r\n\t\t// return list of institutions\r\n\t\treturn institutions;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n};\r\n\r\n/*\r\n\tsends server request to delete institution\r\n\tNote: admin functionality\r\n*/\r\nexport const deleteInstitution = (institutionID) => {\r\n\tconst url = ApiRoutes.institution + \"/\" + institutionID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"delete\",\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\treturn fetch(request).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(institutionInfo => {\r\n\t\t// returns deleted institution info\r\n\t\treturn institutionInfo;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends server request to get institution with id, insitutionID\r\n*/\r\nexport const getInstitution = (institutionID) => {\r\n\tconst url = ApiRoutes.institution + \"/\" + institutionID;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(institutionInfo => {\r\n\t\treturn institutionInfo;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n\r\n/*\r\n\tsends server request to get list of doctors who belong to the institution with institutionID\r\n*/\r\nexport const getDoctorsByInstitution = (institutionID) => {\r\n\tconst url = ApiRoutes.institution + \"/doctors/\" + institutionID;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctors => {\r\n\t\treturn doctors;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends updated institution object to server\r\n*/\r\nexport const updateInstitution = (institutionID, institution) => {\r\n\tconst url = ApiRoutes.institution + \"/\" + institutionID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"put\",\r\n\t\tbody: JSON.stringify(institution),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\t// returns a promise\r\n\treturn fetch(request)\r\n\t.then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(institutionInfo => {\r\n\t\t// returns new institution\r\n\t\treturn institutionInfo;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}","import React from 'react';\r\nimport { uid } from 'react-uid';\r\n\r\nimport './styles.css';\r\n\r\n// importing actions/required methods\r\nimport { getInstitutions } from \"../../actions/institution\";\r\n\r\n// importing form validators\r\nimport { validateInstitutionID } from \"../../validators/form-validators\";\r\n\r\n// component for selecting a preexisiting institution\r\nclass InstitutionSelector extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tinstitutions: [],\r\n\t\t\t\r\n\t\t\terrors: {\r\n\t\t\t\tinstitutionID: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tinstitutionID: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t// a promise\r\n\t\tgetInstitutions().then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinstitutions: data\r\n\t\t\t});\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tinstitutionID,\r\n\t\t\thandleChange,\r\n\t\t\tnext,\r\n\t\t\tback\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"InstitutionSelector\">\r\n\t\t\t\t<form className=\"main_form\" onSubmit={this.submit}>\r\n\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t<label><b>Select Your Institution</b></label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"institutionID\"\r\n\t\t\t\t\t\t\tvalue={institutionID}\r\n\t\t\t\t\t\t\tclassName={this.state.errors.institutionID ? 'select-error' : null}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* default selector value*/}\r\n\t\t\t\t\t\t\t<option value=\"\" disabled>Choose Here</option>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/* iterates over institutions array and displays options */}\r\n\t\t\t\t\t\t\t{this.state.institutions.map(institution => (\r\n\t\t\t\t\t\t\t\t<option \r\n\t\t\t\t\t\t\t\t\tkey={uid(institution)} \r\n\t\t\t\t\t\t\t\t\tvalue={institution._id}>\r\n\t\t\t\t\t\t\t\t\t{institution.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t{this.state.errors.institutionID ? <p className=\"error-message\" >{this.state.errorCodes.institutionID}</p> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type=\"button\" className=\"back\" onClick={back}>Back</button>\r\n\t\t\t\t\t<button type=\"submit\" className=\"submit\">Submit</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"secondary_form\">\r\n\t\t\t\t\t<p>Can't find your institution? </p>\r\n\t\t\t\t\t<a type=\"button\" className=\"create\" onClick={next}>Create</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// onSubmit event handler\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tthis.props.submit();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateInstitutionID(\r\n\t\t\t\t'institutionID', \r\n\t\t\t\tthis.props.institutionID, \r\n\t\t\t\tthis.setError\r\n\t\t\t)\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n}\r\n\r\nexport default InstitutionSelector;","import React from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing actions/required methods\r\nimport { addInstitution } from \"../../actions/institution\";\r\n\r\n// import form validators\r\nimport { validateName, validateAddress, validatePostalCode, validatePhoneNumber } from \"../../validators/form-validators\";\r\n\r\n//\r\nclass InstitutionCreationForm extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\tpostalCode: '',\r\n\t\t\tphoneNumber: '',\r\n\t\t\t\r\n\t\t\terrors: {\r\n\t\t\t\tname: false,\r\n\t\t\t\taddress: false,\r\n\t\t\t\tpostalCode: false,\r\n\t\t\t\tphoneNumber: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tname: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t\tpostalCode: '',\r\n\t\t\t\tphoneNumber: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.createInstitution = this.createInstitution.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\t\tback,\r\n\t\t\t} = this.props;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<form className=\"InstitutionCreationForm\" onSubmit={this.submit}>\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<label><b>Create an Institution</b></label>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<label>Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='name' \r\n\t\t\t\t\t\tclassName={this.state.errors.name ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.name ? <p className=\"error-message\" >{this.state.errorCodes.name}</p> : null}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>Address</label>\t\t\t\t\t\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='address' \r\n\t\t\t\t\t\tclassName={this.state.errors.address ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Address'\r\n\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/> \r\n\t\t\t\t\t{this.state.errors.address ? <p className=\"error-message\" >{this.state.errorCodes.address}</p> : null}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Postal Code</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='postalCode'\r\n\t\t\t\t\t\tclassName={this.state.errors.postalCode ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Postal Code'\r\n\t\t\t\t\t\tvalue={this.state.postalCode}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.postalCode ? <p className=\"error-message\" >{this.state.errorCodes.postalCode}</p> : null}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>Phone Number</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='phoneNumber' \r\n\t\t\t\t\t\tclassName={this.state.errors.phoneNumber ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Phone Number'\r\n\t\t\t\t\t\tvalue={this.state.phoneNumber}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.phoneNumber ? <p className=\"error-message\" >{this.state.errorCodes.phoneNumber}</p> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<button type=\"button\" className=\"back\" onClick={back}>Back</button>\r\n\t\t\t\t<button type=\"submit\" className=\"submit\">Submit</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// handles text input changes\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// creates institution object\r\n\tcreateInstitution = () => {\r\n\t\treturn({\r\n\t\t\tname: this.state.name,\r\n\t\t\taddress: this.state.address,\r\n\t\t\tpostalCode: this.state.postalCode,\r\n\t\t\tphoneNumber: this.state.phoneNumber,\r\n\t\t});\r\n\t}\r\n\t\r\n\t// submit new institution information\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\t// validate form inputs\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\t// creates the new institution object\r\n\t\t\tconst institution = this.createInstitution();\r\n\t\t\t\r\n\t\t\t// server call - returns institution id\r\n\t\t\taddInstitution(institution).then(institutionID => {\r\n\t\t\t\t// invoke submission in parent component\r\n\t\t\t\tthis.props.submit(institutionID);\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('name', this.state.name, this.setError) &&\r\n\t\t\tvalidateAddress('address', this.state.address, this.setError) &&\r\n\t\t\tvalidatePostalCode('postalCode', this.state.postalCode, this.setError) &&\r\n\t\t\tvalidatePhoneNumber('phoneNumber', this.state.phoneNumber, this.setError)\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n}\r\n\r\nexport default InstitutionCreationForm;","// Functions to help with doctor actions.\r\n\r\nimport { ApiRoutes } from \"../constants/apiRoutes\";\r\n\r\n/* Returns the doctor document info when given doctorID */\r\nexport const getDoctorByID = (doctorID, callback) => {\r\n    const url = ApiRoutes.doctorById + doctorID;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(doctorJson => {\r\n            if(doctorJson){\r\n                if(callback){\r\n                    callback(doctorJson);\r\n                }\r\n                return doctorJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* Returns a list of the patients under a specific doctor */\r\nexport const getPatientsByDoctorID = (doctorID) => {\r\n    const url = ApiRoutes.patientsByDoctorId + doctorID;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(patientsArray => {\r\n            if(patientsArray){\r\n                return patientsArray;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* \r\n\tsubmits new doctor information to server for account creation\r\n*/\r\nexport const addDoctor = (doctor) => {\r\n\tconst url = ApiRoutes.doctor;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"post\",\r\n\t\tbody: JSON.stringify(doctor),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\treturn fetch(request)\r\n\t.then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctorInfo => {\r\n\t\t// return newly created doctor object\r\n\t\treturn doctorInfo;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n};\r\n\r\n/* \r\n\tReturns a list of doctors obtained from the server\r\n*/\r\nexport const getDoctors = () => {\r\n\tconst url = ApiRoutes.doctor;\r\n\t\r\n\treturn fetch(url,{ credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctors => {\r\n\t\treturn doctors;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends server request to delete doctor\r\n\tNote: admin functionality\r\n*/\r\nexport const deleteDoctor = (doctorID) => {\r\n\tconst url = ApiRoutes.doctor + \"/\" + doctorID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"delete\",\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\treturn fetch(request).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctor => {\r\n\t\treturn doctor;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends server request to get doctor with id, doctorID\r\n*/\r\nexport const getDoctor = (doctorID) => {\r\n\tconst url = ApiRoutes.doctor + \"/\" + doctorID;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctor => {\r\n\t\treturn doctor;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\nexport const getPatientsByDoctor = (doctorID) => {\r\n\tconst url = ApiRoutes.doctor + \"/patients/\" + doctorID;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patients => {\r\n\t\treturn patients;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t}); \r\n}\r\n\r\nexport const getPatientsByLoggedInDoctor = () => {\r\n\tconst url = ApiRoutes.doctor + \"/patients\";\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patients => {\r\n\t\treturn patients;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends updated doctor object to server\r\n*/\r\nexport const updateDoctor = (doctorID, propertiesToChange) => {\r\n\tconst url = ApiRoutes.doctor + \"/\" + doctorID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: 'PATCH',\r\n\t\tbody: JSON.stringify(propertiesToChange),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\treturn fetch(request).then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(doctorInfo => {\r\n\t\t// return newly created doctor object\r\n\t\treturn doctorInfo;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport DoctorSignUpForm from \"./../DoctorSignUpForm\";\r\nimport InstitutionSelector from \"./../InstitutionSelector\";\r\nimport InstitutionCreationForm from \"./../InstitutionCreationForm\";\r\n\r\n// importing actions/required methods\r\nimport { addDoctor } from \"../../actions/doctor\";\r\nimport { redirect } from \"../../actions/router\";\r\n\r\n// doctor signup component (controls the multi-step registration process)\r\nclass DoctorSignUp extends React.Component {\r\n\t\r\n\t// possible status values\r\n\tstatus = ['registration', 'select institution', 'create instituton'];\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tMID: '',\r\n\t\t\tinstitutionID: '',\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getSignUpForm = this.getSignUpForm.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.nextStatus = this.nextStatus.bind(this);\r\n\t\tthis.previousStatus = this.previousStatus.bind(this);\r\n\t\tthis.createDoctor = this.createDoctor.bind(this);\r\n\t\tthis.submitInstitutionID = this.submitInstitutionID.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"DoctorSignUp\">\r\n\t\t\t\t{this.getSignUpForm(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// handles text input changes \r\n\thandleInputChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// returns the appropriate signup form based on the statusIndex\r\n\tgetSignUpForm = (index) => {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t// doctor registration\r\n\t\t\t0: <DoctorSignUpForm \r\n\t\t\t\t\tfirstName={this.state.firstName}\r\n\t\t\t\t\tlastName={this.state.lastName}\r\n\t\t\t\t\temail={this.state.email}\r\n\t\t\t\t\tusername={this.state.username}\r\n\t\t\t\t\tpassword={this.state.password}\r\n\t\t\t\t\tMID={this.state.MID}\r\n\t\t\t\t\tinstitutionID={this.state.institutionID}\r\n\t\t\t\t\thandleChange={this.handleInputChange}\r\n\t\t\t\t\tnext={this.nextStatus}\r\n\t\t\t\t\tback={() => this.props.back()}\r\n\t\t\t   />,\r\n\t\t\t// institution selection\r\n\t\t\t1: <InstitutionSelector \r\n\t\t\t\t\tinstitutionID={this.state.institutionID}\r\n\t\t\t\t\thandleChange={this.handleInputChange}\r\n\t\t\t\t\tsubmit={this.submit}\r\n\t\t\t\t\tnext={this.nextStatus}\r\n\t\t\t\t\tback={this.previousStatus}\r\n\t\t\t   />,\r\n\t\t\t// institution registration\r\n\t\t\t2: <InstitutionCreationForm\r\n\t\t\t\t\tback={this.previousStatus}\r\n\t\t\t\t\tsubmit={this.submitInstitutionID}\r\n\t\t\t\t/>,\r\n\t\t}[index];\r\n\t}\r\n\t\r\n\t// sets next statusIndex for next status value\r\n\tnextStatus() {\r\n\t\tconst newIndex = (this.state.statusIndex + 1) % 3;\r\n\t\tthis.setState({\r\n\t\t\tstatusIndex: newIndex\r\n\t\t});\r\n\t}\r\n\t\r\n\t// sets statusIndex to the previous value, unless zero\r\n\tpreviousStatus() {\r\n\t\tif (this.state.statusIndex) {\r\n\t\t\tconst newIndex = this.state.statusIndex - 1;\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatusIndex: newIndex\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// submits newly created institution's ID\r\n\tsubmitInstitutionID(id) {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tinstitutionID: id\r\n\t\t},\r\n\t\t\t// callback function\r\n\t\t\tthis.submit\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\tcreateDoctor = () => {\r\n\t\treturn({\r\n\t\t\tfirstName: this.state.firstName,\r\n\t\t\tlastName: this.state.lastName,\r\n\t\t\temail: this.state.email,\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tMID: this.state.MID,\r\n\t\t\tinstitutionID: this.state.institutionID,\r\n\t\t});\r\n\t}\r\n\t\r\n\t// submit new doctor information\r\n\tsubmit() {\r\n\t\tconst doctor = this.createDoctor();\r\n\t\t\r\n\t\taddDoctor(doctor).then(doctorInfo => {\r\n\t\t\tthis.props.submit();\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(DoctorSignUp);","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing form validators\r\nimport { validateReferralCode } from \"../../validators/form-validators\";\r\n\r\nclass ReferralSignUpForm extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\terror,\r\n\t\t\terrorCode,\r\n\t\t\tcode,\r\n\t\t\thandleChange,\r\n\t\t\tdoctorSignUp,\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"ReferralSignUpForm\">\r\n\t\t\t\t<form className=\"main_form\" onSubmit={this.submit}>\r\n\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t<label><b>Enter Referral Code</b></label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\t\tname='code' \r\n\t\t\t\t\t\t\tclassName={error ? 'input-error' : null}\r\n\t\t\t\t\t\t\tplaceholder='Referral Code'\r\n\t\t\t\t\t\t\tvalue={code}\r\n\t\t\t\t\t\t\tonChange={handleChange} />\r\n\t\t\t\t\t\t{error ? <p className=\"error-message\" >{errorCode}</p> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<Link to=\"/\">\t\r\n\t\t\t\t\t\t<button type=\"button\" className=\"login\" >Log in</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<button type=\"submit\" className=\"next\">Next</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"secondary_form\">\r\n\t\t\t\t\t<p>Are you a Doctor? </p>\r\n\t\t\t\t\t<a className=\"signup\" onClick={doctorSignUp}>Sign Up</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tthis.props.submit();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateReferralCode(this.props.code, this.props.setError)\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\nexport default ReferralSignUpForm;","import { ApiRoutes } from '../constants/apiRoutes';\r\n\r\n/* \r\n\tsubmits new patient information to server for account creation\r\n*/\r\nexport const addPatient = (patient) => {\r\n\tconst url = ApiRoutes.patient;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"post\",\r\n\t\tbody: JSON.stringify(patient),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\treturn fetch(request)\r\n\t.then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patient => {\r\n\t\t// return patient\r\n\t\treturn patient;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n\t\r\n};\r\n\r\n/* \r\n\tReturns a list of patients obtained from the server\r\n*/\r\nexport const getPatients = () => {\r\n\tconst url = ApiRoutes.patient;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patients => {\r\n\t\treturn patients;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends server request to delete patient\r\n\tNote: admin functionality\r\n*/\r\nexport const deletePatient = (patientID) => {\r\n\tconst url = ApiRoutes.patient + \"/\" + patientID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"delete\",\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\treturn fetch(request).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patientInfo => {\r\n\t\treturn patientInfo;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends server request to get patient with id, patientID\r\n*/\r\nexport const getPatient = (patientID) => {\r\n\tconst url = ApiRoutes.patient + \"/\" + patientID;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patientInfo => {\r\n\t\treturn patientInfo;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/*\r\n\tsends updated patient object to server\r\n*/\r\nexport const updatePatient = (patientID, propertiesToChange) => {\r\n\tconst url = ApiRoutes.patient + \"/\" + patientID;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: 'PATCH',\r\n\t\tbody: JSON.stringify(propertiesToChange),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\treturn fetch(request).then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(patientInfo => {\r\n\t\t// return newly created patient object\r\n\t\treturn patientInfo;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing actions/required methods\r\nimport { addPatient } from \"../../actions/patient\";\r\nimport { redirect } from \"../../actions/router\";\r\n\r\n// import form validators\r\nimport { \r\n\tvalidateName, \r\n\tvalidateAddress, \r\n\tvalidatePostalCode, \r\n\tvalidateHCN, \r\n\tvalidateEmail, \r\n\tvalidatePassword, \r\n\tvalidateUserName,\r\n\tvalidateUserNameAsync } from \"../../validators/form-validators\"; \r\n\r\nclass PatientSignUpForm extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\taddress: '',\r\n\t\t\tpostalCode: '',\r\n\t\t\tHCN: '',\r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\terrors: {\r\n\t\t\t\tfirstName: false,\r\n\t\t\t\tlastName: false,\r\n\t\t\t\taddress: false,\r\n\t\t\t\tpostalCode: false,\r\n\t\t\t\tHCN: false,\r\n\t\t\t\temail: false,\r\n\t\t\t\tusername: false,\r\n\t\t\t\tpassword: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tfirstName: '',\r\n\t\t\t\tlastName: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t\tpostalCode: '',\r\n\t\t\t\tHCN: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.createPatient = this.createPatient.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tback,\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<form className=\"PatientSignUpForm\" onSubmit={this.submit}>\r\n\t\t\t\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<label><b>Patient Sign Up</b></label>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='firstName' \r\n\t\t\t\t\t\tclassName={this.state.errors.firstName ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='First Name'\r\n\t\t\t\t\t\tvalue={this.state.firstName}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.firstName ? <p className=\"error-message\" >{this.state.errorCodes.firstName}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='lastName' \r\n\t\t\t\t\t\tclassName={this.state.errors.lastName ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\tvalue={this.state.lastName}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.lastName ? <p className=\"error-message\" >{this.state.errorCodes.lastName}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Address</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='address' \r\n\t\t\t\t\t\tclassName={this.state.errors.address ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Address'\r\n\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.address ? <p className=\"error-message\" >{this.state.errorCodes.address}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Postal Code</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='postalCode' \r\n\t\t\t\t\t\tclassName={this.state.errors.postalCode ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Postal Code'\r\n\t\t\t\t\t\tvalue={this.state.postalCode}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.postalCode ? <p className=\"error-message\" >{this.state.errorCodes.postalCode}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Health Card Number</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='HCN' \r\n\t\t\t\t\t\tclassName={this.state.errors.HCN ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Health Card Number'\r\n\t\t\t\t\t\tvalue={this.state.HCN}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.HCN ? <p className=\"error-message\" >{this.state.errorCodes.HCN}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='email' \r\n\t\t\t\t\t\tname='email' \r\n\t\t\t\t\t\tclassName={this.state.errors.email ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.email ? <p className=\"error-message\" >{this.state.errorCodes.email}</p> : null}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>User Name</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text' \r\n\t\t\t\t\t\tname='username' \r\n\t\t\t\t\t\tclassName={this.state.errors.username ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='User Name'\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.username ? <p className=\"error-message\" >{this.state.errorCodes.username}</p> : null}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password' \r\n\t\t\t\t\t\tname='password' \r\n\t\t\t\t\t\tclassName={this.state.errors.password ? 'input-error' : null}\r\n\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleInputChange} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.errors.password ? <p className=\"error-message\" >{this.state.errorCodes.password}</p> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<button type=\"button\" className=\"back\" onClick={back}>Back</button>\r\n\t\t\t\t\r\n\t\t\t\t<button type=\"submit\" className=\"submit\">Submit</button>\r\n\t\t\t\t\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/* handles text input changes */\r\n\thandleInputChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tcreatePatient = () => {\r\n\t\treturn({\r\n\t\t\tfirstName: this.state.firstName,\r\n\t\t\tlastName: this.state.lastName,\r\n\t\t\taddress: this.state.address,\r\n\t\t\tpostalCode: this.state.postalCode,\r\n\t\t\tHCN: this.state.HCN,\r\n\t\t\temail: this.state.email,\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tdoctorID: this.props.referrerID,\r\n\t\t});\r\n\t}\r\n\t\r\n\t/* \r\n\t\tsubmits a new patient account and redirects to the login page\r\n\t*/\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault(); \r\n\t\t\r\n\t\tthis.validate().then(valid => {\r\n\t\t\tif (valid) {\r\n\t\t\t\tconst patient = this.createPatient();\r\n\t\t\t\t\r\n\t\t\t\taddPatient(patient).then(patientInfo => {\r\n\t\t\t\t\tthis.props.submit();\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tasync validate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('firstName', this.state.firstName, this.setError) &&\r\n\t\t\tvalidateName('lastName', this.state.lastName, this.setError) &&\r\n\t\t\tvalidateAddress('address', this.state.address, this.setError) &&\r\n\t\t\tvalidatePostalCode('postalCode', this.state.postalCode, this.setError) &&\r\n\t\t\tvalidateHCN('HCN', this.state.HCN, this.setError) &&\r\n\t\t\tvalidateEmail('email', this.state.email, this.setError) &&\r\n\t\t\tvalidateUserName('username', this.state.username, this.setError) &&\r\n\t\t\tawait validateUserNameAsync('username', this.state.username, this.setError) &&\r\n\t\t\tvalidatePassword('password', this.state.password, this.setError));\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(PatientSignUpForm);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport ReferralSignUpForm from \"../ReferralSignUpForm\";\r\nimport PatientSignUpForm from \"../PatientSignUpForm\";\r\n\r\n// importing actions/required methods\r\nimport { submitReferralCode } from \"../../actions/referral\";\r\nimport { redirect } from \"../../actions/router\";\r\n\r\nclass ReferralSignUp extends React.Component {\r\n\t\r\n\tstatus = ['referral', 'patient']\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcode: '',\r\n\t\t\treferrerID: '',\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.getSignUpForm = this.getSignUpForm.bind(this);\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t\tthis.setReferrerID = this.setReferrerID.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"SignUp\">\r\n\t\t\t\t{this.getSignUpForm(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/* handles text input changes\r\n\t   Note: converts to uppercase */\r\n\thandleInputChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\tconst formattedValue = value.toUpperCase();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: formattedValue\r\n\t\t});\r\n\t}\r\n\t\r\n\t// returns the appropriate signup form based on the statusIndex\r\n\tgetSignUpForm = (index) => {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t// referral\r\n\t\t\t0: <ReferralSignUpForm\r\n\t\t\t\t\terror={this.state.error}\r\n\t\t\t\t\terrorCode={this.state.errorCode}\r\n\t\t\t\t\tsetError={this.setError}\r\n\t\t\t\t\tcode={this.state.code} \r\n\t\t\t\t\thandleChange={this.handleInputChange}\r\n\t\t\t\t\tdoctorSignUp={this.props.doctorSignUp}\r\n\t\t\t\t\tsubmit={this.submit}\r\n\t\t\t\t/>,\r\n\t\t\t// patient\r\n\t\t\t1: <PatientSignUpForm \r\n\t\t\t\t\tcode={this.state.code}\r\n\t\t\t\t\treferrerID={this.state.referrerID}\r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t\t\tsubmit={() => redirect(this, \"/\")}\r\n\t\t\t\t/>,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ \r\n\t\t\tstatusIndex: value \r\n\t\t});\r\n\t}\r\n\t\r\n\t// sets the referrerId value\r\n\tsetReferrerID(id) {\r\n\t\tthis.setState({\r\n\t\t\treferrerID: id\r\n\t\t});\r\n\t}\r\n\t\r\n\t// general error code handler\r\n\tsetError(value, code) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: code\r\n\t\t});\r\n\t}\r\n\t\r\n\t/* \r\n\t\tretrieves referrerID based on referral code and redirects to appropriate signup page\r\n\t*/\r\n\tsubmit() {\r\n\t\tconst code = this.state.code;\r\n\t\t\r\n\t\tsubmitReferralCode(code).then(referrerID => {\r\n\t\t\tif (referrerID) {\r\n\t\t\t\t// sets the referrerID\r\n\t\t\t\tthis.setReferrerID(referrerID);\r\n\t\t\t\t\r\n\t\t\t\t// patient referral code\r\n\t\t\t\tthis.setStatus(1);\r\n\t\t\t} else {\r\n\t\t\t\t// invalid referral code\r\n\t\t\t\tthis.setError(true, 'Invalid Referral Code')\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t})\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(ReferralSignUp);","import { ApiRoutes } from '../constants/apiRoutes';\r\n\r\n/* \r\n\tGets new referral code from server\r\n */\r\nexport const getReferralCode = (code) => {\r\n\tconst url = ApiRoutes.referral;\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\t// parse json\r\n            return res.json();\r\n        }\r\n\t}).then(referrerID => {\r\n\t\t// return the referrer id\r\n\t\treturn referrerID;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n/* \r\n\tSubmits referral code to server and gets a refferrerID on success\r\n */\r\nexport const submitReferralCode = (code) => {\r\n\tconst url = ApiRoutes.referral;\r\n\t\r\n\t// creating the request\r\n\tconst request = new Request(url, {\r\n\t\tmethod: \"post\",\r\n\t\tbody: JSON.stringify({ code: code }),\r\n\t\theaders: {\r\n\t\t\t\"Accept\": \"application/json, text/plain, */*\",\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\tcredentials: 'include'\r\n\t});\r\n\t\r\n\t// making the request to the server\r\n\treturn fetch(request)\r\n\t.then(res => {\r\n\t\t// parse json\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(referrerID => {\r\n\t\t// return referrer id\r\n\t\treturn referrerID;\r\n\t}).catch(error => {\r\n\t\t// log error\r\n\t\tconsole.log(error);\r\n\t});\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport DoctorSignUp from \"../DoctorSignUp\";\r\nimport ReferralSignUp from \"../ReferralSignUp\";\r\n\r\n// importing actions/required methods\r\nimport { redirect } from \"../../actions/router\";\r\n\r\n/* Component for user registration */\r\nclass SignUp extends React.Component {\r\n\t\r\n\t// list of all possible status values\r\n\tstatus = ['referral', 'doctor'];\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tstatusIndex: 0,\r\n\t\t};\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getSignUpForm = this.getSignUpForm.bind(this);\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"SignUp\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t{this.getSignUpForm(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// returns the appropriate signup form based on the statusIndex\r\n\tgetSignUpForm = (index) => {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t// referral\r\n\t\t\t0: <ReferralSignUp \r\n\t\t\t\t\tdoctorSignUp={() => this.setStatus(1)}\r\n\t\t\t\t/>,\r\n\t\t\t// doctor\r\n\t\t\t1: <DoctorSignUp \r\n\t\t\t\t\tsubmit={() => redirect(this, \"/\")}\r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t   />,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ statusIndex: value });\r\n\t}\r\n\r\n}\r\n\r\nexport default withRouter(SignUp);","import React from 'react';\r\nimport \"./styles.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Nav} from \"react-bootstrap\";\r\nimport { redirect } from \"../../actions/router\";\r\nimport { withRouter } from \"react-router\";\r\nimport { UserType } from \"../../constants/userType\";\r\n\r\nclass NavBar extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.redirectRequest = this.redirectRequest.bind(this);\r\n        this.state={\r\n            userType: this.props.appComponent.state.userType,\r\n        };\r\n    }\r\n\r\n    redirectRequest(val) {\r\n        redirect(this, val);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className={\"nav2\"}>\r\n                {this.state.userType === UserType.admin &&\r\n\r\n                    <Nav className=\"col-lg-12 d-none d-inline rounded shadow-lg sidebar\">\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/admin/institutions\")}>Institutions</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/admin/doctors\")}>Doctors</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/admin/patients\")}>Patients</Nav.Link>\r\n                        </Nav.Item>\r\n\r\n                        <div className=\"fixed-bottom\">\r\n\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/setting\")} disabled=\"true\">\r\n                            Settings\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        </div>\r\n                    </Nav>\r\n                }\r\n                {this.state.userType === UserType.patient &&\r\n                    <Nav className=\"col-lg-12 d-none d-inline rounded shadow-lg sidebar\">\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/request\")}>Request</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/results\")}>Results</Nav.Link>\r\n                        </Nav.Item>\r\n                        <div className=\"fixed-bottom\">\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/upload\")}>\r\n                            Upload\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        </div>\r\n                    </Nav>\r\n                }\r\n                {this.state.userType === UserType.doctor &&\r\n                    <Nav className=\"col-lg-12 d-none d-inline rounded shadow-lg sidebar\">\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/request\")}>Request</Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/results\")}>Results</Nav.Link>\r\n                        </Nav.Item>\r\n                        <div className=\"fixed-bottom\">\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={() => this.redirectRequest(\"/upload\")}>\r\n                            Upload\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        </div>\r\n                    </Nav>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(NavBar);","// Functions to help with health news.\r\n\r\n\r\n/* Get top health news articles in Canada */\r\nexport const getTopHealthNews = (component) => {\r\n    const url = \"/api/news\"\r\n    \r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(newsArticlesJson => {\r\n            if (newsArticlesJson) {\r\n                const condensedNewsArticleArray = [];\r\n                // const condensedNewsArticleArray = newsArticlesJson.articles.slice(0, 6);\r\n                for(var article of newsArticlesJson.articles) {\r\n                    if(condensedNewsArticleArray.length === 6) {\r\n                        break;\r\n                    }\r\n                    if(article.urlToImage){\r\n                        condensedNewsArticleArray.push(article);\r\n                    }\r\n                }\r\n                if(component){\r\n                    component.setState({ newsArticleArray: condensedNewsArticleArray });\r\n                }\r\n                return condensedNewsArticleArray;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\nimport { Card, Row }  from \"antd\";\r\nimport backgroundPic from \"./static/dashboard-picture.png\"\r\n\r\nimport Header from './../Header';\r\nimport NavBar from './../NavBar';\r\nimport { getUserProfileInfo } from \"../../actions/user\";\r\nimport { getTopHealthNews } from \"../../actions/healthNews\";\r\n\r\nconst { Meta } = Card;\r\n\r\n/* Component for the Dashboard */\r\nclass Dashboard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.history.push(\"/dashboard\");\r\n        this.state = {\r\n            name: null\r\n        }\r\n        this.getNewsArticles = this.getNewsArticles.bind(this);\r\n        this.onClickArticle = this.onClickArticle.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const loggedInUserGeneralProfile = (await getUserProfileInfo()).generalProfile;\r\n        const name = loggedInUserGeneralProfile.firstName + \" \" + loggedInUserGeneralProfile.lastName;\r\n        this.setState({ name: name })\r\n        await getTopHealthNews(this);\r\n        this.getNewsArticles();\r\n    }\r\n\r\n    onClickArticle = (articleUrl) => {\r\n        const win = window.open(articleUrl, '_blank');\r\n    }\r\n\r\n    getNewsArticles = () => {\r\n        var newsArticleCards = [];\r\n        for(var newsArticle of this.state.newsArticleArray) {\r\n            newsArticleCards.push(\r\n                <Card className=\"newsArticleCard\" hoverable \r\n                    onClick={() => this.onClickArticle(newsArticle.url)}\r\n                    cover={<img alt=\"newsArticleImage\" src={newsArticle.urlToImage} />}\r\n                >\r\n                    <Meta title={newsArticle.title} description={newsArticle.description} />\r\n                </Card>\r\n            )\r\n        }\r\n        var newsArticleRows = [];\r\n        newsArticleRows.push(<Row className=\"newsArticleRow\"> {newsArticleCards.slice(0,3)} </Row>)\r\n        console.log(newsArticleRows);\r\n        this.setState({ newsArticleRowData: newsArticleRows})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header appComponent={this.props.appComponent}/>\r\n                <NavBar appComponent={this.props.appComponent}/>\r\n\r\n                <div className=\"container2\">\r\n                    <div className=\"dashboardWelcomeContainer\">\r\n                        <Row gutter>\r\n                            <img className=\"dashboardBackgroundImage\" alt=\"online-report-image\" src={backgroundPic}/>\r\n                        </Row>\r\n                        <h1 className=\"dashboardWelcomeMessage\">Welcome to MedPort, {this.state.name}!</h1>\r\n                    </div>\r\n                    <h2 className=\"newsSectionTitle\">Health News Articles</h2>\r\n                    {this.state.newsArticleRowData}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Dashboard);\r\n","// Functions to help with file actions.\r\n\r\nimport { ApiRoutes } from \"../constants/apiRoutes\";\r\n\r\n/* Get all files uploaded by the loggedInUser */\r\nexport const getUserUploadedFiles = (component) => {\r\n    const url = ApiRoutes.filesUploaded;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(filesArray => {\r\n            if (filesArray) {\r\n                if(component){\r\n                    component.setState({ fileList: filesArray })\r\n                }\r\n                return filesArray;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n\r\n/* Upload a new file */\r\nexport const addFile = (fileInfo) => {\r\n    const url = ApiRoutes.files;\r\n\r\n    const request = new Request(url, {\r\n        method: \"post\",\r\n        body: JSON.stringify(fileInfo),\r\n        headers: {\r\n            \"Accept\": \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    return fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(fileJson => {\r\n            if (fileJson) {\r\n                return fileJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* Get all files that are associated with a specific patient */\r\nexport const getPatientFiles = (patientId, component) => {\r\n    const url = ApiRoutes.files + patientId;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(filesArray => {\r\n            if (filesArray) {\r\n                if(component){\r\n                    ///////////////////////////////\r\n                }\r\n                return filesArray;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* Get all files that are associated with a specific patient */\r\nexport const getFilesForPatient = (patientId) => {\r\n    const url = ApiRoutes.files + \"patients/\" + patientId;\r\n\r\n    return fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(files => {\r\n\t\treturn files;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n// Get all files that are associated with the logged in patient\r\nexport const getLoggedInPatientFiles = () => {\r\n\tconst url = ApiRoutes.files + \"patients\";\r\n\t\r\n\treturn fetch(url, { credentials: 'include' }).then(res => {\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t}).then(files => {\r\n\t\treturn files;\r\n\t}).catch(error => {\r\n\t\tconsole.log(error);\r\n\t});\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport 'antd/dist/antd.css';\r\nimport \"./styles.css\";\r\nimport { Form, Upload, Card, Select, message, Button, Input }  from \"antd\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport Header from './../Header';\r\nimport NavBar from './../NavBar';\r\n\r\nimport { UserType } from \"../../constants/userType\";\r\nimport { getUserUploadedFiles, addFile } from \"../../actions/file\";\r\nimport { getUserProfileInfo } from \"../../actions/user\";\r\nimport { getPatientsByDoctorID } from \"../../actions/doctor\";\r\n\r\nimport moment from \"moment\";\r\n\r\nclass FileUpload extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.props.history.push(\"/upload\");\r\n\r\n        this.state = {\r\n            user: this.props.appComponent.state.loggedInUser,\r\n            userType: this.props.appComponent.state.userType,\r\n            patientsListDropdown: [],\r\n            fileList: [],\r\n            previousFileDownloadLinks: [],\r\n            uploading: false,\r\n        }\r\n\r\n        this.displayPatients = this.displayPatients.bind(this);\r\n        this.updatePreviousFilesOnPage = this.updatePreviousFilesOnPage.bind(this);\r\n        this.displayLastUploadedFiles = this.displayLastUploadedFiles.bind(this);\r\n        this.onUploadChange = this.onUploadChange.bind(this);\r\n        this.onFinish = this.onFinish.bind(this);\r\n        this.getBase64 = this.getBase64.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if(this.state.userType === UserType.doctor) {\r\n            await this.displayPatients();\r\n        }\r\n        await this.updatePreviousFilesOnPage();\r\n    }\r\n\r\n    updatePreviousFilesOnPage = async () => {\r\n        const previousFileDownloadLinks = await this.displayLastUploadedFiles(5);\r\n        this.setState({\r\n            previousFileDownloadLinks: previousFileDownloadLinks.reverse()\r\n        });\r\n    }\r\n\r\n    displayLastUploadedFiles = async (numOfFilesToDisplay) => {\r\n        const fileLinks = [];\r\n        const lastFilesList = (await getUserUploadedFiles(this)).slice(-numOfFilesToDisplay);\r\n\r\n        for(var fileInfo of lastFilesList) {\r\n            const fileLink = (<a className=\"previousFileDownloadLink\" download={fileInfo.fileName} href={fileInfo.base64}>\r\n                                {fileInfo.fileName}\r\n                            </a>);\r\n            fileLinks.push(fileLink);\r\n        }\r\n        return fileLinks;\r\n    }\r\n\r\n    onUploadChange = (data) => {\r\n        var uploadedFileList = [...data.fileList];\r\n        uploadedFileList = uploadedFileList.slice(-1);\r\n\r\n        const isPdf = data.file.type === 'application/pdf'\r\n        if (!isPdf) {\r\n            message.error('You can only upload PDF file!');\r\n        }\r\n        const isLt2M = data.file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n            message.error('PDF must smaller than 2MB!');\r\n        }\r\n        \r\n        if(isPdf && isLt2M){\r\n            this.setState({ listedUploadFile: uploadedFileList });\r\n            const fileName = data.file.name;\r\n\r\n            this.getBase64(data.file, fileBase64 => {\r\n                this.setState({ currentUploadFileBase64: fileBase64, currentUploadFileName: fileName })\r\n            });\r\n        }\r\n    }\r\n\r\n    onFinish = async (formValues) => {\r\n        if(!this.state.currentUploadFileName || !this.state.currentUploadFileBase64) {\r\n            message.error('Please submit a file!');\r\n            return;\r\n        }\r\n        const uploader = (await getUserProfileInfo())._id;\r\n        if(formValues[\"patient\"] && this.state.userType === UserType.doctor) {\r\n            var patient = this.state.patients[formValues[\"patient\"]]._id;\r\n        } else if (this.state.userType === UserType.patient) {\r\n            var patient = uploader;\r\n        }\r\n\r\n        const reportType = formValues[\"reportType\"];\r\n        const dateUploaded = moment(); // current time\r\n        const fileName = this.state.currentUploadFileName;\r\n        const base64 = this.state.currentUploadFileBase64;\r\n\r\n        const fileInfo = {uploader, patient, reportType, dateUploaded, fileName, base64}\r\n\r\n        await addFile(fileInfo);\r\n        this.setState({ currentUploadFileBase64: null, currentUploadFileName: null })\r\n        await this.updatePreviousFilesOnPage();\r\n    }\r\n    \r\n    getBase64 = (pdf, callback) => {\r\n        const reader = new FileReader();\r\n        reader.addEventListener('load', () => callback(reader.result));\r\n        reader.readAsDataURL(pdf);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header appComponent={this.props.appComponent}/>\r\n                <NavBar appComponent={this.props.appComponent} />\r\n                <div className=\"uploadFileFormPage\">\r\n                    <h1 className=\"uploadFileTitle\">\r\n                        Upload a Medical File\r\n                    </h1>\r\n                    <Card className=\"uploadCard\">\r\n                        <Form \r\n                            name=\"upload-form\"\r\n                            className=\"uploadForm\"\r\n                            onFinish={this.onFinish}\r\n                            layout=\"vertical\"\r\n                        >\r\n                            {this.state.userType === UserType.doctor &&\r\n                                <Form.Item\r\n                                    name=\"patient\"\r\n                                    label=\"Patient:\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: 'Please select a Patient.',\r\n                                        },\r\n                                    ]}\r\n                                >\r\n                                    {this.state.patientsListDropdown}\r\n                                </Form.Item>\r\n                            }\r\n                            <p className=\"uploadReportTypeDescription\">\r\n                                    Please input the type of medical file that you are uploading. \r\n                                    For example, if this file contains a blood test report, then please input \"Blood Test\".\r\n                            </p>\r\n                            <Form.Item\r\n                                name=\"reportType\"\r\n                                label=\"Medical Report Type:\"\r\n                                className=\"reportTypeLabel\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: \"Please input the type of medical report.\"\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input className=\"uploadReportTypeInput\"/>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                name=\"upload\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: \"Please upload a file.\"\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Upload \r\n                                    fileList={this.state.listedUploadFile}\r\n                                    showUploadList={showUploadListProps}\r\n                                    onChange={this.onUploadChange} \r\n                                    beforeUpload={() => false}// beforeUpload={this.beforeUpload} \r\n                                    action=\"/api/files\"                            \r\n                                >\r\n                                    <Button className=\"uploadButton\">\r\n                                        <UploadOutlined /> Click to upload\r\n                                    </Button>\r\n                                </Upload>\r\n                            </Form.Item>\r\n                            <Form.Item>\r\n                                <Button type=\"primary\" htmlType=\"submit\" className=\"uploadFormSubmitButton\">\r\n                                    Submit\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Card>\r\n                    <h3 className=\"previouslyUploadedFilesTitle\">\r\n                        Previously Uploaded Files\r\n                    </h3>\r\n                    <Card className=\"previouslyUploadedFilesCard\">\r\n                        {this.state.previousFileDownloadLinks.length === 0 && <p>No files have been uploaded.</p>}\r\n                        {this.state.previousFileDownloadLinks}\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    displayPatients = async () => {\r\n        var patientNameElements = [];\r\n        const doctorID = (await getUserProfileInfo())._id;\r\n        const patients = await getPatientsByDoctorID(doctorID);\r\n        this.setState({patients: patients})\r\n\r\n        for (var patientInfo of patients) {\r\n            patientNameElements.push(<Select.Option key={patients.indexOf(patientInfo)}>{patientInfo.generalProfile.firstName + \" \" + patientInfo.generalProfile.lastName}</Select.Option>)\r\n        }\r\n\r\n        const patientsListDropdown = <Select>{patientNameElements}</Select>;\r\n        this.setState({patientsListDropdown: patientsListDropdown})\r\n    }\r\n}\r\n\r\nconst showUploadListProps = {\r\n    showRemoveIcon: false,\r\n}\r\n\r\nexport default withRouter(FileUpload);","// Functions to help with request actions.\r\n\r\nimport { ApiRoutes } from \"../constants/apiRoutes\";\r\n\r\n/* Get all requests made by the loggedInUser */\r\nexport const getUserRequests = (component) => {\r\n    const url = ApiRoutes.request;\r\n\r\n    return fetch(url, { credentials: 'include' })\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(requestsArray => {\r\n            if (requestsArray) {\r\n                if(component){\r\n                    const pendingRequests = requestsArray.filter( request => request.status === \"pending\");\r\n                    const confirmedRequests = requestsArray.filter( request => request.status === \"confirmed\");\r\n                    component.setState({ pendingRequests: pendingRequests, confirmedRequests: confirmedRequests });\r\n                }\r\n                return requestsArray;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* Set request status */\r\nexport const setRequestStatus = (requestId, status) => {\r\n    const url = ApiRoutes.requestStatus + requestId;\r\n\r\n    const request = new Request(url, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(\r\n            { \"status\": status }\r\n        ),\r\n        headers: {\r\n            \"Accept\": \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    return fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(requestJson => {\r\n            if (requestJson) {\r\n                return requestJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n/* Add a new request */\r\nexport const addRequest = (requestInfo) => {\r\n    const url = ApiRoutes.request\r\n\r\n    const request = new Request(url, {\r\n        method: \"post\",\r\n        body: JSON.stringify(requestInfo),\r\n        headers: {\r\n            \"Accept\": \"application/json, text/plain, */*\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n\t\tcredentials: 'include'\r\n    });\r\n\r\n    return fetch(request)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            }\r\n        })\r\n        .then(requestJson => {\r\n            if (requestJson) {\r\n                return requestJson;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\nimport { Row, Card, Form, Input, Button, Select, DatePicker, TimePicker, message} from \"antd\";\r\n\r\nimport { getUserProfileInfo } from '../../actions/user';\r\nimport { getPatientsByDoctorID } from \"../../actions/doctor\";\r\n\r\nimport { UserType } from \"../../constants/userType\";\r\nimport { LeftOutlined } from \"@ant-design/icons\";\r\nimport { addRequest } from \"../../actions/request\";\r\n\r\nimport moment from 'moment';\r\n\r\nconst { TextArea } = Input;\r\n\r\nclass RequestForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.appComponent.state.loggedInUser,\r\n            userType: this.props.appComponent.state.userType,\r\n            patientsListDropdown: []\r\n        }\r\n        this.onClick = this.onClick.bind(this);\r\n        this.onFinish = this.onFinish.bind(this);\r\n        this.displayPatients = this.displayPatients.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if(this.state.userType === UserType.doctor) {\r\n            await this.displayPatients();\r\n        }\r\n    }\r\n\r\n    onFinish = async (formValues) => {\r\n        const createdByUser = await getUserProfileInfo();\r\n        const createdBy = createdByUser._id;\r\n        if(formValues[\"patient\"] && this.state.userType === UserType.doctor){\r\n            var receiver = this.state.patients[formValues[\"patient\"]]._id;\r\n        } else if (this.state.userType === UserType.patient) {\r\n            if(createdByUser.doctor){\r\n                var receiver = createdByUser.doctor;\r\n            } else {\r\n                message.error(\"You cannot make a request when you do not have an assigned doctor.\")\r\n                return;\r\n            }\r\n        }\r\n        \r\n        const requestTypes = [\"Phone call\", \"Appointment\", \"Test\"];\r\n        const type = requestTypes[formValues[\"requestType\"]];\r\n\r\n        const date = moment(formValues[\"date\"]).format('YYYY-MM-DD');\r\n        const time = moment(formValues[\"time\"]).format('h:mm A');\r\n\r\n        var requestInfo = {createdBy, receiver, type, date, time};\r\n\r\n        if(formValues[\"reason\"]){\r\n            const reason = formValues[\"reason\"];\r\n            requestInfo[\"reason\"] = reason;\r\n        }\r\n        \r\n        await addRequest(requestInfo);\r\n        this.props.backToPreviousRequestsPage();\r\n    }\r\n\r\n    onClick = () => {\r\n        this.props.backToPreviousRequestsPage();\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div className=\"newRequestFormPage\">\r\n                <h1 className=\"requestTitle\">\r\n                    Submit a request\r\n                </h1>\r\n                <Button onClick={this.onClick} className=\"back-to-previous-req-button\">\r\n                    <LeftOutlined />\r\n                </Button>\r\n                <Card className=\"requestFormCard\">\r\n                    <Form\r\n                        name=\"request-form\"\r\n                        className=\"requestForm\"\r\n                        onFinish={this.onFinish}\r\n                        layout=\"vertical\"\r\n                    >\r\n                        {/* Only display this element if user is a doctor */}\r\n                        {this.state.userType === UserType.doctor &&\r\n                            <Form.Item\r\n                                name=\"patient\"\r\n                                label=\"Patient:\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please select a Patient.',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                {this.state.patientsListDropdown}\r\n                            </Form.Item>\r\n                        }\r\n                        <Form.Item\r\n                            name=\"requestType\"\r\n                            label=\"Request Type:\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please select an option.',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select>\r\n                                <Select.Option key={0}>Phone Call</Select.Option>\r\n                                <Select.Option key={1}>Appointment</Select.Option>\r\n                                <Select.Option key={2}>Test</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Row className=\"request-date-time\">\r\n                            <Form.Item\r\n                                name=\"date\"\r\n                                label=\"Date:\"\r\n                                className=\"requestDateFormItem\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please select a date.',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <DatePicker />\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                name=\"time\"\r\n                                label=\"Time:\"\r\n                                className=\"requestTimeFormItem\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please select a time.',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <TimePicker use12Hours format=\"h:mm A\"/>\r\n                            </Form.Item>\r\n                        </Row>\r\n                        <Form.Item\r\n                            name=\"reason\"\r\n                            label=\"Reason:\"\r\n                        >\r\n                            <TextArea placeholder=\"Input your reason for submitting this request\" autoSize className=\"requestReasonInput\"/>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"request-form-button\">\r\n                                Submit\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    displayPatients = async () => {\r\n        var patientNameElements = [];\r\n        const doctorID = (await getUserProfileInfo())._id;\r\n        const patients = await getPatientsByDoctorID(doctorID);\r\n        this.setState({patients: patients})\r\n\r\n        for (var patientInfo of patients) {\r\n            patientNameElements.push(<Select.Option key={patients.indexOf(patientInfo)}>{patientInfo.generalProfile.firstName + \" \" + patientInfo.generalProfile.lastName}</Select.Option>)\r\n        }\r\n\r\n        const patientsListDropdown = <Select>{patientNameElements}</Select>;\r\n        this.setState({patientsListDropdown: patientsListDropdown})\r\n    }\r\n\r\n}\r\nexport default withRouter(RequestForm);","import React from \"react\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\nimport { InfoCircleOutlined } from '@ant-design/icons';\r\nimport { Tabs, Button, Modal }  from \"antd\";\r\n\r\nimport { getUserProfileInfo } from '../../actions/user';\r\nimport { getUserRequests, setRequestStatus } from \"../../actions/request\";\r\n\r\nimport moment from 'moment';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nclass PreviousRequests extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.loggedInUser,\r\n            pendingRequests: null,\r\n            confirmedRequests: null,\r\n            modalVisible: false,\r\n            pendingRequestsRowData: [],\r\n            confirmedRequestsRowData: []\r\n        };\r\n\r\n        this.displayTableHeaders = this.displayTableHeaders.bind(this);\r\n        this.displayTableElements = this.displayTableElements.bind(this);\r\n        this.displayActionNeeded = this.displayActionNeeded.bind(this);\r\n\r\n        this.showModal = this.showModal.bind(this);\r\n        this.handleModalOk = this.handleModalOk.bind(this);\r\n        this.handleModalCancel = this.handleModalCancel.bind(this);\r\n    }\r\n\r\n    tableHeaderNames = [\"Created By\", \"Request To\", \"Request Type\", \"Date\", \"Time\", \"Reason\"];\r\n    actionHeaderName = \"Action Needed\";\r\n\r\n    async componentDidMount(){\r\n        const pendingTableRowsRequests = await this.displayTableElements(\"pending\");\r\n        const confirmedTableRowsRequests = await this.displayTableElements(\"confirmed\");\r\n        this.setState({\r\n            pendingRequestsRowData: pendingTableRowsRequests,\r\n            confirmedRequestsRowData: confirmedTableRowsRequests\r\n        });\r\n    }\r\n\r\n    updateRequestsOnPage = async () => {\r\n        const pendingTableRowsRequests = await this.displayTableElements(\"pending\");\r\n        const confirmedTableRowsRequests = await this.displayTableElements(\"confirmed\");\r\n        this.setState({\r\n            pendingRequestsRowData: pendingTableRowsRequests,\r\n            confirmedRequestsRowData: confirmedTableRowsRequests\r\n        });\r\n    }\r\n\r\n    showModal = (modalMessage, openRequest) => {\r\n        this.setState({\r\n            modalVisible: true,\r\n            modalMessage: modalMessage,\r\n            openRequest: openRequest\r\n        });\r\n    };\r\n\r\n    handleModalOk = async () => {\r\n        await setRequestStatus(this.state.openRequest._id, \"confirmed\")\r\n        this.setState({\r\n            modalVisible: false,\r\n            openRequest: null\r\n        });\r\n        await this.updateRequestsOnPage();\r\n    };\r\n    \r\n    handleModalCancel = () => {\r\n        this.setState({\r\n            modalVisible: false,\r\n            openRequest: null\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"previousRequests\">\r\n                <h1 className=\"previousRequestsTitle\">\r\n                    Previous Requests\r\n                </h1>\r\n                <Modal\r\n                    title=\"Do you want to confirm the following request?\"\r\n                    icon={<InfoCircleOutlined />}\r\n                    onOk={this.handleModalOk}\r\n                    onCancel={this.handleModalCancel}\r\n                    visible={this.state.modalVisible}\r\n                >\r\n                    {this.state.modalMessage}\r\n                </Modal>\r\n                <Tabs defaultActiveKey=\"1\">\r\n                    <TabPane tab=\"Pending Requests\" key=\"1\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>{this.displayTableHeaders(\"pending\")}</tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {/* {this.displayTableElements(\"pending\")} */}\r\n                                {this.state.pendingRequestsRowData}\r\n                            </tbody>\r\n                        </table>\r\n                    </TabPane>\r\n                    <TabPane tab=\"Confirmed Requests\" key=\"2\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>{this.displayTableHeaders(\"confirmed\")}</tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {/* {this.displayTableElements(\"confirmed\")} */}\r\n                                {this.state.confirmedRequestsRowData}\r\n                            </tbody>\r\n                        </table>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    displayTableHeaders = (status) => {\r\n        var tableHeaders = [];\r\n        var headers = [...this.tableHeaderNames];\r\n\r\n        if(status === \"pending\") {\r\n            headers.push(this.actionHeaderName);\r\n        }\r\n\r\n        // headers is [] 0: \"Created By\" 1: \"Request To\" 2: \"Request Type\", etc.\r\n        for (var header in headers) {\r\n            tableHeaders.push(<th key={header}>{headers[header]}</th>);\r\n        }\r\n\r\n        return (tableHeaders);\r\n    }\r\n\r\n    displayTableElements = async (status) => {\r\n        // var tableRows = [];\r\n        var requestData = [];\r\n\r\n        await getUserRequests(this);\r\n        if(status === \"pending\") {\r\n            requestData = this.state.pendingRequests;\r\n        } else if(status === \"confirmed\") {\r\n            requestData = this.state.confirmedRequests;\r\n        }\r\n\r\n        // iterative over all requests\r\n        const tableRowsRequests = [];\r\n        for(var req of requestData) {\r\n            const createdByUser = await getUserProfileInfo(req.createdBy, null, null);\r\n            const createdByName = createdByUser.firstName + \" \" + createdByUser.lastName;\r\n\r\n            const toUser = await getUserProfileInfo(req.receiver, null, null);\r\n            const toName = toUser.firstName + \" \" + toUser.lastName;\r\n\r\n            const loggedInUserProfileId = (await getUserProfileInfo())._id;\r\n\r\n            const tableRow =  (<tr key={requestData.indexOf(req)}>\r\n                                    <td>{createdByName}</td>\r\n                                    <td>{toName}</td>\r\n                                    <td>{req.type}</td>\r\n                                    <td>{moment(req.date).format('MMMM Do YYYY')}</td>\r\n                                    <td>{req.time}</td>\r\n                                    <td>{req.reason}</td>\r\n                                    {status === \"pending\" && this.displayActionNeeded(req, createdByName, loggedInUserProfileId)}\r\n                                </tr>);\r\n                \r\n            if(status === \"pending\") {\r\n                // this.setState({pendingRequestsRowData: this.state.pendingRequestsRowData.concat([tableRow])})\r\n                tableRowsRequests.push(tableRow);\r\n            } else if(status === \"confirmed\") {\r\n                // this.setState({confirmedRequestsRowData: this.state.confirmedRequestsRowData.concat([tableRow])})\r\n                tableRowsRequests.push(tableRow);\r\n            }\r\n        }\r\n\r\n        return tableRowsRequests;\r\n    }\r\n\r\n    // Note: function only called for pending requests, since action is pending\r\n    displayActionNeeded = (req, createdByName, loggedInUserProfileId) => {\r\n        // Pending on other person\r\n        if(req.createdBy === loggedInUserProfileId) {\r\n            return (\r\n                <td>\r\n                    Waiting for confirmation\r\n                </td>\r\n            );\r\n        } else {\r\n            const modalMessage = \"Request by \" + createdByName + \" for a \" + req.type + \" on \" + moment(req.date).format('MMMM Do YYYY') + \" at \" + req.time + \".\";\r\n            return (\r\n                <td>\r\n                    <Button onClick={() => this.showModal(modalMessage, req)} className=\"confirm-request-button\">\r\n                        Confirm\r\n                    </Button>\r\n                </td>\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\nexport default PreviousRequests;","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\nimport Header from './../Header';\r\nimport NavBar from './../NavBar';\r\nimport RequestForm from '../RequestForm';\r\nimport PreviousRequests from '../PreviousRequests'\r\n\r\nimport { Button }  from \"antd\";\r\n\r\nclass Request extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.history.push(\"/request\");\r\n\r\n        this.state = {\r\n            newRequest: false,\r\n            user: this.props.appComponent.state.loggedInUser\r\n        };\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n        this.backToPreviousRequestsPage = this.backToPreviousRequestsPage.bind(this);\r\n        this.changeView = this.changeView.bind(this);\r\n        this.getPreviousRequestsPage = this.getPreviousRequestsPage.bind(this);\r\n\r\n    }\r\n\r\n    onClick() {\r\n        this.setState( {...this.state, newRequest: true} );\r\n    }\r\n\r\n    changeView() {\r\n        if(this.state.newRequest) {\r\n            return (<RequestForm appComponent={this.props.appComponent} backToPreviousRequestsPage={this.backToPreviousRequestsPage}/>);\r\n        } else {\r\n            return (\r\n            <div className=\"previousRequestsPage\">\r\n                <Button onClick={this.onClick} type=\"primary\" className=\"new-request-button\">\r\n                    Submit a New Request\r\n                </Button>\r\n                {this.getPreviousRequestsPage()}\r\n            </div>);\r\n        }\r\n    }\r\n\r\n    backToPreviousRequestsPage() {\r\n        this.setState( {...this.state, newRequest: false} );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"request-page\">\r\n                <Header appComponent={this.props.appComponent}/>\r\n                <NavBar appComponent={this.props.appComponent} />\r\n                {this.changeView()}\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    // returns the previous list of requests made by the user in a table format\r\n    getPreviousRequestsPage() {\r\n        return (<PreviousRequests loggedInUser={this.state.user} />)\r\n    }\r\n}\r\n\r\nexport default withRouter(Request);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\n// importing actions/required methods\r\nimport { getInstitutions, deleteInstitution } from \"../../actions/institution\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// importing components\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\nclass AdminInstitutionsOverview extends React.Component {\r\n\t\r\n\theaders = [\"Name\", \"Address\", \"Postal Code\", \"Phone Number\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetInstitutions().then(data => {\r\n\t\t\tif (data) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinstitutions: data\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred while getting institutions.\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tinstitutions: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getTableRows = this.getTableRows.bind(this);\r\n\t\tthis.removeInstitution = this.removeInstitution.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tcreateInstitution\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminInstitutionsOverview\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\tInstitutions Overview\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tclassName=\"create-institution-button\"\r\n\t\t\t\t\t\tonClick={createInstitution}\r\n\t\t\t\t\t>Create Institution</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>{this.getTableHeaders()}</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.getTableRows()}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders() {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\tthis.headers.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetTableRows() {\r\n\t\tlet tableRows = [];\r\n\t\t\r\n\t\tthis.state.institutions.map(institution => (\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(institution)}>\r\n\t\t\t\t\t<td>{institution.name}</td>\r\n\t\t\t\t\t<td>{institution.address}</td>\r\n\t\t\t\t\t<td>{institution.postalCode}</td>\r\n\t\t\t\t\t<td>{institution.phoneNumber}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {redirect(this, \"/admin/institutions/\" + institution._id)}}\r\n\t\t\t\t\t\t>View</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this institution?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => {this.removeInstitution(institution._id)}}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t>Delete</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\t// deletes institution with a specific id\r\n\tremoveInstitution(institutionID) {\r\n\t\t// api call\r\n\t\tdeleteInstitution(institutionID).then(institutionInfo => {\r\n\t\t\tif (institutionInfo) {\r\n\t\t\t\t// institution deleted\r\n\t\t\t\t\r\n\t\t\t\t// delete institution from institutions list\r\n\t\t\t\tconst filtered = this.state.institutions.filter(institution => institution._id !== institutionID);\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinstitutions: filtered\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// institution not deleted\r\n\t\t\t\t\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\t// set error message\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\r\n\t}\r\n\t\r\n\t// sets error value in component state\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(AdminInstitutionsOverview);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport AdminInstitutionsOverview from \"../AdminInstitutionsOverview\";\r\nimport InstitutionCreationForm from \"../InstitutionCreationForm\";\r\n\r\nclass AdminInstitutions extends React.Component {\r\n\t\r\n\tstatus = [\"Institutions Overview\", \"Institution Creation\"]\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/institutions\");\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t\tthis.getView = this.getView.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminInstitutions\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t\r\n\t\t\t\t{this.getView(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ statusIndex: value });\r\n\t}\r\n\t\r\n\t// returns the appropriate view based on the statusIndex\r\n\tgetView = (index) => {\r\n\t\treturn {\r\n\t\t\t// Institutions Overview\r\n\t\t\t0: <AdminInstitutionsOverview \r\n\t\t\t\t\tcreateInstitution={() => this.setStatus(1)}\r\n\t\t\t\t/>,\r\n\t\t\t// Institution Creation\r\n\t\t\t1: <InstitutionCreationForm \r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t\t\tsubmit={() => this.setStatus(0)}\r\n\t\t\t\t/>,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(AdminInstitutions);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\n// importing actions/required methods\r\nimport { getInstitution, deleteInstitution, updateInstitution, getDoctorsByInstitution } from \"../../actions/institution\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// import form validators\r\nimport { validateName, validateAddress, validatePostalCode, validatePhoneNumber } from \"../../validators/form-validators\";\r\n\r\nclass AdminInstitutionView extends React.Component {\r\n\t\r\n\t// constants\r\n\tinfoHeaders = [\"Name\", \"Address\", \"Postal Code\", \"Phone Number\"];\r\n\tdoctorHeaders = [\"Medical ID\", \"First Name\", \"Last Name\", \"Email\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetInstitution(this.state.institutionID).then(data => {\r\n\t\t\tif (data) {\r\n\t\t\t\t// institution data was received\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: data.name,\r\n\t\t\t\t\taddress: data.address,\r\n\t\t\t\t\tpostalCode: data.postalCode,\r\n\t\t\t\t\tphoneNumber: data.phoneNumber,\r\n\t\t\t\t\tinstitutionInfo: data,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.setError(false, \"\");\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// no institution data was received\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t});\r\n\t\t\r\n\t\tgetDoctorsByInstitution(this.state.institutionID).then(doctors => {\r\n\t\t\tif (doctors || doctors === []) {\r\n\t\t\t\t// doctors list was received\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdoctors: doctors\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// no doctors list was received\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t});\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/institutions/\" + props.match.params.id);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\tpostalCode: '',\r\n\t\t\tphoneNumber: '',\r\n\t\t\t\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tedit: false,\r\n\t\t\tinstitutionID: props.match.params.id,\r\n\t\t\tinstitutionInfo: {},\r\n\t\t\tdoctors: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getDoctorTableRows = this.getDoctorTableRows.bind(this);\r\n\t\tthis.removeInstitution = this.removeInstitution.bind(this);\r\n\t\tthis.updateInstitutionInfo = this.updateInstitutionInfo.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.toggleEdit = this.toggleEdit.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.createInstitution = this.createInstitution.bind(this);\r\n\t\tthis.resetInputs = this.resetInputs.bind(this);\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminInstitutionView\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"institution-info\">\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tInstitution Info\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this institution?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => this.removeInstitution(this.state.institutionID)}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t\tclassName=\"delete-institution-button\"\r\n\t\t\t\t\t\t\t>Delete Institution</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.infoHeaders)}</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\t\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"name\" value={this.state.name} onChange={this.handleInputChange}></input></td> : <td>{this.state.institutionInfo.name}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"address\" value={this.state.address} onChange={this.handleInputChange}></input></td> : <td>{this.state.institutionInfo.address}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"postalCode\" value={this.state.postalCode} onChange={this.handleInputChange}></input></td> : <td>{this.state.institutionInfo.postalCode}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"phoneNumber\" value={this.state.phoneNumber} onChange={this.handleInputChange}></input></td> : <td>{this.state.institutionInfo.phoneNumber}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"primary\" onClick={() => { this.updateInstitutionInfo(this.state.institutionID) }}>Submit</Button></td> : <td><Button type=\"primary\" onClick={() => this.toggleEdit()}>Edit</Button></td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"danger\" onClick={() => { this.resetInputs(); this.toggleEdit(); }} >Cancel</Button></td> : null}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"institution-doctors\">\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tDoctors\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.doctorHeaders)}</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.getDoctorTableRows()}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders(headers) {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\theaders.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetDoctorTableRows() {\r\n\t\tlet tableRows = [];\r\n\t\t\r\n\t\tthis.state.doctors.map(doctor => (\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(doctor)}>\r\n\t\t\t\t\t<td>{doctor.MID}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.firstName}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.lastName}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.email}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {redirect(this, \"/admin/doctors/\" + doctor._id)}}\r\n\t\t\t\t\t\t>View</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\t// deletes institution with a specific id\r\n\tremoveInstitution(institutionID) {\r\n\t\t// api call\r\n\t\tdeleteInstitution(institutionID).then(institutionInfo => {\r\n\t\t\tif (institutionInfo) {\r\n\t\t\t\t// redirect on success\r\n\t\t\t\tredirect(this, \"/admin/institutions\");\r\n\t\t\t} else {\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\r\n\t}\r\n\t\r\n\t// validates and updates institution info\r\n\tupdateInstitutionInfo(institutionID) {\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\t// make api call\r\n\t\t\tupdateInstitution(institutionID, this.createInstitution()).then(institution => {\r\n\t\t\t\t\r\n\t\t\t\t// update with new institution info\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: institution.name,\r\n\t\t\t\t\taddress: institution.address,\r\n\t\t\t\t\tpostalCode: institution.postalCode,\r\n\t\t\t\t\tphoneNumber: institution.phoneNumber,\r\n\t\t\t\t\tinstitutionInfo: institution,\r\n\t\t\t\t}, this.toggleEdit);\r\n\t\t\t\t\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('name', this.state.name, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateAddress('address', this.state.address, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidatePostalCode('postalCode', this.state.postalCode, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidatePhoneNumber('phoneNumber', this.state.phoneNumber, (name, val, msg) => this.setError(val, msg))\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\ttoggleEdit() {\r\n\t\tthis.setState({\r\n\t\t\tedit: !this.state.edit\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n\t\r\n\t// handles text input changes\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tcreateInstitution = () => {\r\n\t\treturn({\r\n\t\t\tname: this.state.name,\r\n\t\t\taddress: this.state.address,\r\n\t\t\tpostalCode: this.state.postalCode,\r\n\t\t\tphoneNumber: this.state.phoneNumber,\r\n\t\t});\r\n\t}\r\n\t\r\n\tresetInputs() {\r\n\t\tthis.setState({\r\n\t\t\tname: this.state.institutionInfo.name,\r\n\t\t\taddress: this.state.institutionInfo.address,\r\n\t\t\tpostalCode: this.state.institutionInfo.postalCode,\r\n\t\t\tphoneNumber: this.state.institutionInfo.phoneNumber,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default withRouter(AdminInstitutionView);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\n// importing actions/required methods\r\nimport { getDoctors, deleteDoctor } from \"../../actions/doctor\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// importing components\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\nclass AdminDoctorsOverview extends React.Component {\r\n\theaders = [\"Medical ID\", \"First Name\", \"Last Name\", \"Email\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetDoctors().then(doctors => {\r\n\t\t\tif (doctors) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdoctors: doctors\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tdoctors: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getTableRows = this.getTableRows.bind(this);\r\n\t\tthis.removeDoctor = this.removeDoctor.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tcreateDoctor\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminDoctorsOverview\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\tDoctors Overview\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tclassName=\"create-doctor-button\"\r\n\t\t\t\t\t\tonClick={createDoctor}\r\n\t\t\t\t\t>Create Doctor</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>{this.getTableHeaders()}</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.getTableRows()}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders() {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\tthis.headers.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetTableRows() {\r\n\t\tlet tableRows = [];\r\n\t\t\r\n\t\tthis.state.doctors.map(doctor => (\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(doctor)}>\r\n\t\t\t\t\t<td>{doctor.MID}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.firstName}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.lastName}</td>\r\n\t\t\t\t\t<td>{doctor.generalProfile.email}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {redirect(this, \"/admin/doctors/\" + doctor._id)}}\r\n\t\t\t\t\t\t>View</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this doctor?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => {this.removeDoctor(doctor._id)}}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t>Delete</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\t// deletes doctor with a specific id\r\n\tremoveDoctor(doctorID) {\r\n\t\t// api call\r\n\t\tdeleteDoctor(doctorID).then(doctorInfo => {\r\n\t\t\tif (doctorInfo) {\r\n\t\t\t\t// delete Doctor\r\n\t\t\t\tconst filtered = this.state.doctors.filter(doctor => doctor._id !== doctorID);\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdoctors: filtered\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\t// set error message\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\r\n\t}\r\n\t\r\n\t// sets error value in component state\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default withRouter(AdminDoctorsOverview);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport AdminDoctorsOverview from \"../AdminDoctorsOverview\";\r\nimport DoctorSignUp from \"../DoctorSignUp\";\r\n\r\n\r\nclass AdminDoctors extends React.Component {\r\n\tstatus = [\"Doctors Overview\", \"Doctor Creation\"]\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/doctors\");\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t\tthis.getView = this.getView.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminDoctors\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t\r\n\t\t\t\t{this.getView(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ statusIndex: value });\r\n\t}\r\n\t\r\n\t// returns the appropriate view based on the statusIndex\r\n\tgetView = (index) => {\r\n\t\treturn {\r\n\t\t\t// Institutions Overview\r\n\t\t\t0: <AdminDoctorsOverview \r\n\t\t\t\t\tcreateDoctor={() => this.setStatus(1)}\r\n\t\t\t\t/>,\r\n\t\t\t// Institution Creation\r\n\t\t\t1: <DoctorSignUp \r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t\t\tsubmit={() => this.setStatus(0)}\r\n\t\t\t\t/>,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(AdminDoctors);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\n// importing actions/required methods\r\nimport { getDoctor, deleteDoctor, updateDoctor, getPatientsByDoctor } from \"../../actions/doctor\";\r\nimport { getInstitution, getInstitutions } from \"../../actions/institution\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// importing form validators\r\nimport { validateInstitutionID, validateName, validateMID, validateEmail } from \"../../validators/form-validators\";\r\n\r\nclass AdminDoctorView extends React.Component {\r\n\t\r\n\t// constants\r\n\tinfoHeaders = [\"Medical ID\", \"First Name\", \"Last Name\", \"Email\", \"Institution\"];\r\n\tpatientHeaders = [\"Health Card\", \"First Name\", \"Last Name\", \"Address\", \"Email\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t// get doctor info\r\n\t\tgetDoctor(this.state.doctorID).then(async (doctor) => {\r\n\t\t\tif (doctor) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tMID: doctor.MID,\r\n\t\t\t\t\tfirstName: doctor.generalProfile.firstName,\r\n\t\t\t\t\tlastName: doctor.generalProfile.lastName,\r\n\t\t\t\t\temail: doctor.generalProfile.email,\r\n\t\t\t\t\tdoctorInfo: doctor,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.setError(false, \"\");\r\n\t\t\t\t\r\n\t\t\t\t// gets institution info for doctor's insitution\r\n\t\t\t\tawait this.getInstitutionInfo(doctor.institutionID);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t});\r\n\t\t\r\n\t\t// get list of patients that belong to doctor\r\n\t\tgetPatientsByDoctor(this.state.doctorID).then(patients => {\r\n\t\t\tif (patients || patients === []) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpatients: patients\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t});\r\n\t\t\r\n\t\t// get list of all institutions (for editing)\r\n\t\tgetInstitutions().then(institutions => {\r\n\t\t\tif (institutions || institutions === []) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinstitutions: institutions\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\")\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\")\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/doctors/\" + props.match.params.id);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tMID: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\temail: '',\r\n\t\t\tinstitution: '',\r\n\t\t\t\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tedit: false,\r\n\t\t\tdoctorID: props.match.params.id,\r\n\t\t\tdoctorInfo: {generalProfile: {}},\r\n\t\t\tpatients: [],\r\n\t\t\tinstitutions: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getPatientTableRows = this.getPatientTableRows.bind(this);\r\n\t\tthis.getInstitutionOptions = this.getInstitutionOptions.bind(this);\r\n\t\tthis.getInstitutionInfo = this.getInstitutionInfo.bind(this);\r\n\t\tthis.removeDoctor = this.removeDoctor.bind(this);\r\n\t\tthis.updateDoctorInfo = this.updateDoctorInfo.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.toggleEdit = this.toggleEdit.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.getPropertiesToChange = this.getPropertiesToChange.bind(this);\r\n\t\tthis.resetInputs = this.resetInputs.bind(this);\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminDoctorView\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"doctor-info\">\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tDoctor Info\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this doctor?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => this.removeDoctor(this.state.doctorID)}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t\tclassName=\"delete-doctor-button\"\r\n\t\t\t\t\t\t\t>Delete Doctor</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.infoHeaders)}</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\t\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"MID\" value={this.state.MID} onChange={this.handleInputChange}></input></td> : <td>{this.state.doctorInfo.MID}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"firstName\" value={this.state.firstName} onChange={this.handleInputChange}></input></td> : <td>{this.state.doctorInfo.generalProfile.firstName}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"lastName\" value={this.state.lastName} onChange={this.handleInputChange}></input></td> : <td>{this.state.doctorInfo.generalProfile.lastName}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"email\" value={this.state.email} onChange={this.handleInputChange}></input></td> : <td>{this.state.doctorInfo.generalProfile.email}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><select name=\"institution\" value={this.state.institution} onChange={this.handleInputChange}>{this.getInstitutionOptions()}</select></td> : <td>{this.state.doctorInfo.institution}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"primary\" onClick={() => {this.updateDoctorInfo(this.state.doctorID)}}>Submit</Button></td> : <td><Button type=\"primary\" onClick={() => this.toggleEdit()}>Edit</Button></td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"danger\" onClick={() => { this.resetInputs(); this.toggleEdit(); }} >Cancel</Button></td> : null}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"doctor-patients\">\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tPatients\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.patientHeaders)}</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.getPatientTableRows()}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders(headers) {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\theaders.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetPatientTableRows() {\r\n\t\tlet tableRows = [];\r\n\t\t\r\n\t\tthis.state.patients.map(patient => (\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(patient)}>\r\n\t\t\t\t\t<td>{patient.HCN}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.firstName}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.lastName}</td>\r\n\t\t\t\t\t<td>{patient.address}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.email}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {redirect(this, \"/admin/patients/\" + patient._id)}}\r\n\t\t\t\t\t\t>View</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\tgetInstitutionOptions() {\r\n\t\tconst options = [];\r\n\t\t\r\n\t\toptions.push(<option value=\"\" disabled>Choose Here</option>);\r\n\t\t\r\n\t\tthis.state.institutions.map(institution => {\r\n\t\t\toptions.push(<option key={uid(institution)} value={institution._id}>{institution.name}</option>);\r\n\t\t});\r\n\t\t\r\n\t\treturn options;\r\n\t}\r\n\t\r\n\t// gets insitution info from institutionID\r\n\tgetInstitutionInfo(institutionID) {\r\n\t\tif (institutionID) {\r\n\t\t\treturn getInstitution(institutionID).then(institution => {\r\n\t\t\t\tif (institution) {\r\n\t\t\t\t\tconst newDoctorInfo = {...this.state.doctorInfo};\r\n\t\t\t\t\tnewDoctorInfo.institution = institution.name;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tinstitution: institution._id,\r\n\t\t\t\t\t\tdoctorInfo: newDoctorInfo\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setError(true, \"This doctor does not have an institution. Set one by editing the doctor info.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t// deletes doctor with a specific id\r\n\tremoveDoctor(doctorID) {\r\n\t\t// api call\r\n\t\tdeleteDoctor(doctorID).then(doctorInfo => {\r\n\t\t\tif (doctorInfo) {\r\n\t\t\t\tredirect(this, \"/admin/doctors\");\r\n\t\t\t} else {\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\t\t\r\n\t}\r\n\t\r\n\tupdateDoctorInfo(doctorID) {\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tupdateDoctor(doctorID, this.getPropertiesToChange()).then(async (doctor) => {\r\n\t\t\t\tif (doctor) {\r\n\t\t\t\t\t// set doctor info\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tMID: doctor.MID,\r\n\t\t\t\t\t\tfirstName: doctor.generalProfile.firstName,\r\n\t\t\t\t\t\tlastName: doctor.generalProfile.lastName,\r\n\t\t\t\t\t\temail: doctor.generalProfile.email,\r\n\t\t\t\t\t\tdoctorInfo: doctor\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get doctor's institution info\r\n\t\t\t\t\tawait this.getInstitutionInfo(doctor.institutionID);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// toggle edit\r\n\t\t\t\t\tthis.toggleEdit();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('firstName', this.state.firstName, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateName('lastName',this.state.lastName, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateMID('MID', this.state.MID, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateEmail('email', this.state.email, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateInstitutionID('institution', this.state.institution, (name, val, msg) => this.setError(val, msg))\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\ttoggleEdit() {\r\n\t\tthis.setState({\r\n\t\t\tedit: !this.state.edit\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n\t\r\n\t// handles text input changes\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tgetPropertiesToChange = () => {\r\n\t\treturn [\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/firstName\", \"value\": this.state.firstName},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/lastName\", \"value\": this.state.lastName},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/email\", \"value\": this.state.email},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/MID\", \"value\": this.state.MID},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/institutionID\", \"value\": this.state.institution}\r\n\t\t];\r\n\t}\r\n\t\r\n\tresetInputs() {\r\n\t\tthis.setState({\r\n\t\t\tfirstName: this.state.doctorInfo.generalProfile.firstName,\r\n\t\t\tlastName: this.state.doctorInfo.generalProfile.lastName,\r\n\t\t\temail: this.state.doctorInfo.generalProfile.email,\r\n\t\t\tMID: this.state.doctorInfo.MID,\r\n\t\t\tinstitution: this.state.doctorInfo.institution,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default withRouter(AdminDoctorView);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\n// importing actions/required methods\r\nimport { getPatients, deletePatient } from \"../../actions/patient\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// importing components\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\nclass AdminPatientsOverview extends React.Component {\r\n\theaders = [\"Health Card\", \"First Name\", \"Last Name\", \"Email\", \"Address\", \"Postal Code\"];\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tawait getPatients().then((patients) => {\r\n\t\t\tif (patients || patients === []) {\r\n\t\t\t\t\r\n\t\t\t\t// set patients in state\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpatients: patients\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\t\t\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tpatients: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getTableRows = this.getTableRows.bind(this);\r\n\t\tthis.removePatient = this.removePatient.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tcreatePatient\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminPatientsOverview\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\tPatients Overview\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tclassName=\"create-patient-button\"\r\n\t\t\t\t\t\tonClick={createPatient}\r\n\t\t\t\t\t>Create Patient</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>{this.getTableHeaders()}</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.getTableRows()}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders() {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\tthis.headers.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetTableRows() {\r\n\t\tlet tableRows = [];\r\n\t\t\r\n\t\tthis.state.patients.map((patient) => {\r\n\t\t\t\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(patient)}>\r\n\t\t\t\t\t<td>{patient.HCN}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.firstName}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.lastName}</td>\r\n\t\t\t\t\t<td>{patient.generalProfile.email}</td>\r\n\t\t\t\t\t<td>{patient.address}</td>\r\n\t\t\t\t\t<td>{patient.postalCode}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {redirect(this, \"/admin/patients/\" + patient._id)}}\r\n\t\t\t\t\t\t>View</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this patient?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => {this.removePatient(patient._id)}}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t>Delete</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t});\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\t// deletes doctor with a specific id\r\n\tremovePatient(patientID) {\r\n\t\t// api call\r\n\t\tdeletePatient(patientID).then(patientInfo => {\r\n\t\t\tif (patientInfo) {\r\n\t\t\t\t// delete Patient\r\n\t\t\t\tconst filtered = this.state.patients.filter(patient => patient._id !== patientID);\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpatients: filtered\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// set error message\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t});\t\t\r\n\t}\r\n\t\r\n\t// sets error value in component state\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default withRouter(AdminPatientsOverview);","import React from 'react';\r\nimport { uid } from 'react-uid';\r\n\r\nimport './styles.css';\r\n\r\n// importing actions/required methods\r\nimport { getDoctors } from \"../../actions/doctor\";\r\n\r\n// importing form validators\r\nimport { validateDoctorID } from \"../../validators/form-validators\";\r\n\r\n// component for selecting a preexisiting institution\r\nclass AdminDoctorSelector extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tdoctors: [],\r\n\t\t\t\r\n\t\t\terrors: {\r\n\t\t\t\tdoctorID: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tdoctorID: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t// a promise\r\n\t\tgetDoctors().then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdoctors: data\r\n\t\t\t});\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tdoctorID,\r\n\t\t\thandleChange,\r\n\t\t\tback,\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"AdminDoctorSelector\">\r\n\t\t\t\t<form className=\"main_form\" onSubmit={this.submit}>\r\n\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t<label><b>Select Patient's Doctor</b></label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"doctorID\"\r\n\t\t\t\t\t\t\tvalue={doctorID}\r\n\t\t\t\t\t\t\tclassName={this.state.errors.doctorID ? 'select-error' : null}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* default selector value*/}\r\n\t\t\t\t\t\t\t<option value=\"\" disabled>Choose Here</option>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/* iterates over institutions array and displays options */}\r\n\t\t\t\t\t\t\t{this.state.doctors.map(doctor => (\r\n\t\t\t\t\t\t\t\t<option \r\n\t\t\t\t\t\t\t\t\tkey={uid(doctor)} \r\n\t\t\t\t\t\t\t\t\tvalue={doctor._id}>\r\n\t\t\t\t\t\t\t\t\t{doctor.generalProfile.firstName + \" \" + doctor.generalProfile.lastName}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t{this.state.errors.doctorID ? <p className=\"error-message\" >{this.state.errorCodes.doctorID}</p> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type=\"button\" className=\"back\" onClick={back}>Back</button>\r\n\t\t\t\t\t<button type=\"submit\" className=\"submit\">Submit</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// onSubmit event handler\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tthis.props.submit();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateDoctorID(\r\n\t\t\t\t'doctorID', \r\n\t\t\t\tthis.props.doctorID, \r\n\t\t\t\tthis.setError\r\n\t\t\t)\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n}\r\n\r\nexport default AdminDoctorSelector;","import React from 'react';\r\nimport { uid } from 'react-uid';\r\n\r\nimport './styles.css';\r\n\r\n//importing components\r\nimport AdminDoctorSelector from \"../AdminDoctorSelector\";\r\nimport PatientSignUpForm from \"../PatientSignUpForm\";\r\n\r\n// component for selecting a preexisiting institution\r\nclass AdminPatientSignUp extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tdoctorID: '',\r\n\t\t\t\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tback\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"AdminPatientSignUp\">\r\n\t\t\t\t{this.getSignUpForm(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// returns the appropriate signup form based on the statusIndex\r\n\tgetSignUpForm = (index) => {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t// referral\r\n\t\t\t0: <AdminDoctorSelector \r\n\t\t\t\t\thandleChange={this.handleInputChange}\r\n\t\t\t\t\tdoctorID={this.state.doctorID}\r\n\t\t\t\t\tback={this.props.back}\r\n\t\t\t\t\tsubmit={() => this.setStatus(1)}\r\n\t\t\t\t/>,\r\n\t\t\t// patient\r\n\t\t\t1: <PatientSignUpForm \r\n\t\t\t\t\tcode=\"\"\r\n\t\t\t\t\treferrerID={this.state.doctorID}\r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t\t\tsubmit={this.props.submit}\r\n\t\t\t\t/>,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ \r\n\t\t\tstatusIndex: value \r\n\t\t});\r\n\t}\r\n\t\r\n\t/* handles text input changes */\r\n\thandleInputChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n}\r\n\r\nexport default AdminPatientSignUp;","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport AdminPatientsOverview from \"../AdminPatientsOverview\";\r\nimport AdminPatientSignUp from \"../AdminPatientSignUp\";\r\n\r\nclass AdminPatients extends React.Component {\r\n\t\r\n\tstatus = [\"Patients Overview\", \"Patient Creation\"]\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/patients\");\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tstatusIndex: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.setStatus = this.setStatus.bind(this);\r\n\t\tthis.getView = this.getView.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminPatients\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t\r\n\t\t\t\t{this.getView(this.state.statusIndex)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// sets the statusIndex value\r\n\tsetStatus (value) {\r\n\t\tthis.setState({ statusIndex: value });\r\n\t}\r\n\t\r\n\t// returns the appropriate view based on the statusIndex\r\n\tgetView = (index) => {\r\n\t\treturn {\r\n\t\t\t// Patients Overview\r\n\t\t\t0: <AdminPatientsOverview \r\n\t\t\t\t\tcreatePatient={() => this.setStatus(1)}\r\n\t\t\t\t/>,\r\n\t\t\t// Patient Creation\r\n\t\t\t1: <AdminPatientSignUp\r\n\t\t\t\t\tback={() => this.setStatus(0)}\r\n\t\t\t\t\tsubmit={() => this.setStatus(0)}\r\n\t\t\t\t/>,\r\n\t\t}[index]\r\n\t}\r\n\t\r\n}\r\n\r\nexport default withRouter(AdminPatients);","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\nimport { withRouter } from \"react-router\";\r\n\r\n// importing styles\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport Header from \"../Header\";\r\nimport NavBar from \"../NavBar\";\r\nimport { Alert, Button, Popconfirm } from \"antd\";\r\n\r\n// importing actions/required methods\r\nimport { getPatient, deletePatient, updatePatient } from \"../../actions/patient\";\r\nimport { getDoctor, getDoctors } from \"../../actions/doctor\";\r\nimport { redirect } from \"../../actions/router\";\r\n\r\n// importing validators\r\nimport { validateName, validateAddress, validatePostalCode, validateHCN, validateEmail, validateDoctorID} from \"../../validators/form-validators\";\r\n\r\nclass AdminPatientView extends React.Component {\r\n\t// constants\r\n\tinfoHeaders = [\"Health Card\", \"First Name\", \"Last Name\", \"Email\", \"Address\", \"Postal Code\", \"Doctor\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetPatient(this.state.patientID).then(async (patient) => {\r\n\t\t\tif (patient) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tHCN: patient.HCN,\r\n\t\t\t\t\tfirstName: patient.generalProfile.firstName,\r\n\t\t\t\t\tlastName: patient.generalProfile.lastName,\r\n\t\t\t\t\temail: patient.generalProfile.email,\r\n\t\t\t\t\taddress: patient.address,\r\n\t\t\t\t\tpostalCode: patient.postalCode,\r\n\t\t\t\t\tpatientInfo: patient,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.setError(false, \"\");\r\n\t\t\t\t\r\n\t\t\t\t// gets doctor info for patient's doctor\r\n\t\t\t\tawait this.getDoctorInfo(patient.doctor);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t});\r\n\t\t\r\n\t\t// get list of all doctors (for editing)\r\n\t\tgetDoctors().then(doctors => {\r\n\t\t\tif (doctors || doctors === []) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdoctors: doctors\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t})\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/admin/patients/\" + props.match.params.id);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tHCN: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\temail: '',\r\n\t\t\taddress: '',\r\n\t\t\tpostalCode: '',\r\n\t\t\tdoctorID: '',\r\n\t\t\t\r\n\t\t\terror: false,\r\n\t\t\terrorCode: '',\r\n\t\t\tedit: false,\r\n\t\t\tpatientID: props.match.params.id,\r\n\t\t\tpatientInfo: {generalProfile: {}},\r\n\t\t\tdoctors: [],\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getDoctorInfo = this.getDoctorInfo.bind(this);\r\n\t\tthis.getDoctorOptions = this.getDoctorOptions.bind(this);\r\n\t\tthis.removePatient = this.removePatient.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.toggleEdit = this.toggleEdit.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.updatePatientInfo = this.updatePatientInfo.bind(this);\r\n\t\tthis.getPropertiesToChange = this.getPropertiesToChange.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.resetInputs = this.resetInputs.bind(this);\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"AdminPatientView\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"patient-info\">\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tPatient Info\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Delete this patient?\"\r\n\t\t\t\t\t\t\tonConfirm={(e) => this.removePatient(this.state.patientID)}\r\n\t\t\t\t\t\t\tonCancel={(e) => {}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t\tclassName=\"delete-patient-button\"\r\n\t\t\t\t\t\t\t>Delete Patient</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.infoHeaders)}</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\t\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"HCN\" value={this.state.HCN} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.HCN}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"firstName\" value={this.state.firstName} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.generalProfile.firstName}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"lastName\" value={this.state.lastName} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.generalProfile.lastName}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"email\" value={this.state.email} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.generalProfile.email}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"address\" value={this.state.address} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.address}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><input name=\"postalCode\" value={this.state.postalCode} onChange={this.handleInputChange}></input></td> : <td>{this.state.patientInfo.postalCode}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><select name=\"doctorID\" value={this.state.doctorID} onChange={this.handleInputChange}>{this.getDoctorOptions()}</select></td> : <td>{this.state.patientInfo.doctorName}</td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"primary\" onClick={() => {this.updatePatientInfo(this.state.patientID)}}>Submit</Button></td> : <td><Button type=\"primary\" onClick={() => this.toggleEdit()}>Edit</Button></td>}\r\n\t\t\t\t\t\t\t\t\t{this.state.edit ? <td><Button type=\"danger\" onClick={() => { this.resetInputs(); this.toggleEdit(); }} >Cancel</Button></td> : null}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders(headers) {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\theaders.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetDoctorOptions() {\r\n\t\tconst options = [];\r\n\t\t\r\n\t\toptions.push(<option value=\"\" disabled>Choose Here</option>);\r\n\t\t\r\n\t\tthis.state.doctors.map(doctor => {\r\n\t\t\toptions.push(<option key={uid(doctor)} value={doctor._id}>{doctor.generalProfile.firstName + \" \" + doctor.generalProfile.lastName}</option>);\r\n\t\t});\r\n\t\t\r\n\t\treturn options;\r\n\t}\r\n\t\r\n\tgetDoctorInfo(doctorID) {\r\n\t\tif (doctorID) {\r\n\t\t\treturn getDoctor(doctorID).then(doctor => {\r\n\t\t\t\tif (doctor) {\r\n\t\t\t\t\tconst newPatientInfo = {...this.state.patientInfo};\r\n\t\t\t\t\tnewPatientInfo.doctorName = doctor.generalProfile.firstName + \" \" + doctor.generalProfile.lastName;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdoctorID: doctor._id,\r\n\t\t\t\t\t\tpatientInfo: newPatientInfo\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setError(true, \"This patient does not have a doctor. Set one by editing the patient info.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t// deletes patient with a specific id\r\n\tremovePatient(patientID) {\r\n\t\t// api call\r\n\t\tconst success = deletePatient(patientID);\r\n\t\t\r\n\t\tif (success) {\r\n\t\t\tredirect(this, \"/admin/patients\");\r\n\t\t} else {\r\n\t\t\t// set error message\r\n\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetError(value, message) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: message\r\n\t\t});\r\n\t}\r\n\t\r\n\ttoggleEdit() {\r\n\t\tthis.setState({\r\n\t\t\tedit: !this.state.edit\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n\t\r\n\t// handles text input changes\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tupdatePatientInfo(patientID) {\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tupdatePatient(patientID, this.getPropertiesToChange()).then(async (patient) => {\r\n\t\t\t\tif (patient) {\r\n\t\t\t\t\t// set patient info\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tHCN: patient.HCN,\r\n\t\t\t\t\t\tfirstName: patient.generalProfile.firstName,\r\n\t\t\t\t\t\tlastName: patient.generalProfile.lastName,\r\n\t\t\t\t\t\temail: patient.generalProfile.email,\r\n\t\t\t\t\t\taddress: patient.address,\r\n\t\t\t\t\t\tpostalCode: patient.postalCode,\r\n\t\t\t\t\t\tpatientInfo: patient,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// gets doctor info for patient's doctor\r\n\t\t\t\t\tawait this.getDoctorInfo(patient.doctor);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// toggle edit\r\n\t\t\t\t\tthis.toggleEdit();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again.\");\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetPropertiesToChange = () => {\r\n\t\treturn [\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/firstName\", \"value\": this.state.firstName},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/lastName\", \"value\": this.state.lastName},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/generalProfile/email\", \"value\": this.state.email},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/HCN\", \"value\": this.state.HCN},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/address\", \"value\": this.state.address},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/postalCode\", \"value\": this.state.postalCode},\r\n\t\t\t{\"op\": \"replace\", \"path\": \"/doctor\", \"value\": this.state.doctorID}\r\n\t\t];\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidateName('firstName', this.state.firstName, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateName('lastName',this.state.lastName, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateHCN('HCN', this.state.HCN, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateEmail('email', this.state.email, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateAddress('address', this.state.address, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidatePostalCode('postalCode', this.state.postalCode, (name, val, msg) => this.setError(val, msg)) &&\r\n\t\t\tvalidateDoctorID('doctorID', this.state.doctorID, (name, val, msg) => this.setError(val, msg)) \r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\r\n\tresetInputs() {\r\n\t\tthis.setState({\r\n\t\t\tfirstName: this.state.patientInfo.generalProfile.firstName,\r\n\t\t\tlastName: this.state.patientInfo.generalProfile.lastName,\r\n\t\t\taddress: this.state.patientInfo.address,\r\n\t\t\tpostalCode: this.state.patientInfo.postalCode,\r\n\t\t\tHCN: this.state.patientInfo.HCN,\r\n\t\t\temail: this.state.patientInfo.generalProfile.email,\r\n\t\t\tdoctorID: this.state.patientInfo.doctor,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default withRouter(AdminPatientView);","import React from 'react';\r\nimport { uid } from 'react-uid';\r\n\r\nimport './styles.css';\r\n\r\n// importing actions/required methods\r\nimport { getPatientsByLoggedInDoctor } from \"../../actions/doctor\";\r\n\r\n// importing form validators\r\nimport { validatePatientID } from \"../../validators/form-validators\";\r\n\r\n// component for selecting a preexisiting institution\r\nclass PatientSelector extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tpatients: [],\r\n\t\t\t\r\n\t\t\terrors: {\r\n\t\t\t\tpatientID: false,\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terrorCodes: {\r\n\t\t\t\tpatientID: '',\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t// a promise\r\n\t\tgetPatientsByLoggedInDoctor().then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpatients: data\r\n\t\t\t});\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {\r\n\t\t\tpatientID,\r\n\t\t\thandleChange,\r\n\t\t} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"PatientSelector\">\r\n\t\t\t\t<form className=\"main_form\" onSubmit={this.submit}>\r\n\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t<label><b>Select Patient</b></label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Select Patient</th>\r\n\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"patientID\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={patientID}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={this.state.errors.patientID ? 'select-error' : null}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* default selector value*/}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled>Choose Here</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{/* iterates over institutions array and displays options */}\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.patients.map(patient => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={uid(patient)} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={patient._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{patient.generalProfile.firstName + \" \" + patient.generalProfile.lastName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"submit\">Submit</button>\r\n\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{this.state.errors.patientID ? <p className=\"error-message\" >{this.state.errorCodes.patientID}</p> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t// onSubmit event handler\r\n\tsubmit(event) {\r\n\t\t// prevents page reload\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tconst valid = this.validate();\r\n\t\t\r\n\t\tif (valid) {\r\n\t\t\tthis.props.submit();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// validates inputs on submission\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst valid = (\r\n\t\t\tvalidatePatientID(\r\n\t\t\t\t'patientID', \r\n\t\t\t\tthis.props.patientID, \r\n\t\t\t\tthis.setError\r\n\t\t\t)\r\n\t\t);\r\n\t\t\r\n\t\treturn valid;\r\n\t}\r\n\t\t\r\n\tsetError(name, value, message) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\terrors: {\r\n\t\t\t\t...prevState.errors,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t\terrorCodes: {\r\n\t\t\t\t...prevState.errorCodes,\r\n\t\t\t\t[name]: message,\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n}\r\n\r\nexport default PatientSelector;","import React from \"react\";\r\nimport { uid } from 'react-uid';\r\n\r\nimport \"./styles.css\";\r\n\r\n// importing components\r\nimport Header from './../Header';\r\nimport NavBar from './../NavBar';\r\nimport PatientSelector from \"../PatientSelector\";\r\nimport { Alert, Button } from \"antd\";\r\n\r\n// importing actions\r\nimport { getFilesForPatient, getLoggedInPatientFiles } from \"../../actions/file\";\r\nimport { redirect } from \"../../actions/router\"\r\n\r\n// importing constants\r\nimport { UserType } from \"../../constants/userType\";\r\n\r\nclass ResultsOverview extends React.Component {\r\n\t\r\n\t// constants\r\n\ttableHeaders = [\"File Name\", \"Report Type\"];\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tif (this.props.appComponent.state.userType === UserType.patient) {\r\n\t\t\t\r\n\t\t\tgetLoggedInPatientFiles().then(files => {\r\n\t\t\t\tif (files || files === []) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tfiles: files\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setError(false, '');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.props.history.push(\"/results\");\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tfiles: [],\r\n\t\t\terror: '',\r\n\t\t\terrorCode: '',\r\n\t\t\tpatientID: '',\r\n\t\t}\r\n\t\t\r\n\t\t// binding functions\r\n\t\tthis.setError = this.setError.bind(this);\r\n\t\tthis.getTableHeaders = this.getTableHeaders.bind(this);\r\n\t\tthis.getTableRows = this.getTableRows.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"ResultsOverview\">\r\n\t\t\t\t<Header appComponent={this.props.appComponent}/>\r\n\t\t\t\t<NavBar appComponent={this.props.appComponent} />\r\n\t\t\t\t\r\n\t\t\t\t{this.state.error ? <Alert type=\"error\" message={this.state.errorCode} className=\"alert\" closable onClose={this.handleClose}></Alert> : null}\r\n\t\t\t\t\r\n\t\t\t\t{this.props.appComponent.state.userType === UserType.doctor ? <PatientSelector patientID={this.state.patientID} handleChange={this.handleInputChange} submit={this.submit} /> : null}\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\tResults Overview\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>{this.getTableHeaders(this.tableHeaders)}</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.getTableRows()}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetTableHeaders(headers) {\r\n\t\tlet tableHeaders = [];\r\n\t\t\r\n\t\theaders.map(header => (\r\n\t\t\ttableHeaders.push(<th key={uid(header)}>{header}</th>)\r\n\t\t));\r\n\t\t\r\n\t\treturn tableHeaders;\r\n\t}\r\n\t\r\n\tgetTableRows() {\r\n\t\tconst tableRows = [];\r\n\t\t\r\n\t\tthis.state.files.map(file => {\r\n\t\t\ttableRows.push(\r\n\t\t\t\t<tr key={uid(file)}>\r\n\t\t\t\t\t<td>{file.fileName}</td>\r\n\t\t\t\t\t<td>{file.reportType}</td>\r\n\t\t\t\t\t<td><Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t// onClick={() => {redirect(this, \"/results/\" + file._id)}}\r\n\t\t\t\t\t\t\thref={file.base64}\r\n\t\t\t\t\t\t\tdownload={file.fileName}\r\n\t\t\t\t\t\t>Download</Button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t});\r\n\t\t\r\n\t\treturn tableRows;\r\n\t}\r\n\t\r\n\t// general error code handler\r\n\tsetError(value, code) {\r\n\t\tthis.setState({\r\n\t\t\terror: value,\r\n\t\t\terrorCode: code\r\n\t\t});\r\n\t}\r\n\t\r\n\t// antd alert close handler\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\terror: false,\r\n\t\t\terrorCode: ''\r\n\t\t});\r\n\t}\r\n\t\r\n\t/* handles text input changes\r\n\t   Note: converts to uppercase */\r\n\thandleInputChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = target.value;\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tsubmit() {\r\n\t\tgetFilesForPatient(this.state.patientID).then(files => {\r\n\t\t\tif (files || files === []) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfiles: files\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setError(true, \"An error occurred, please try again\");\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default ResultsOverview;","import React from 'react';\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\nimport { Button, Input } from 'antd';\r\nimport { EditOutlined } from '@ant-design/icons';\r\n\r\nclass ProfileDetail extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            inEditMode: false,\r\n            isEditable: this.props.isEditable,\r\n            detailName: this.props.detailName,\r\n            detailValue: this.props.detailValue,\r\n            displayInvalid: false\r\n        }\r\n\r\n        this.displayEdit = this.displayEdit.bind(this);\r\n        this.displayView = this.displayView.bind(this);\r\n        this.displayInvalidinput = this.displayInvalidinput.bind(this);\r\n        this.onPressEnter = this.onPressEnter.bind(this);\r\n    }\r\n\r\n    displayEdit() {\r\n        this.setState({ inEditMode: true });\r\n    }\r\n\r\n    displayInvalidinput(displayInvalid) {\r\n        this.setState({ displayInvalid });\r\n    }\r\n\r\n    onPressEnter(e){\r\n        this.props.profileComponent.updateUserProfileDetail(this.props.detail, e.target.value, this);\r\n        //this.state.detailValue = e.target.value;\r\n\r\n        this.setState({ inEditMode: false });\r\n    }\r\n\r\n    displayView() {\r\n        if(this.state.inEditMode) {\r\n            return(\r\n                <div className=\"profileDetail\">\r\n                    <h5>{this.state.detailName}:</h5>\r\n                    <Input placeholder={this.state.detailName} defaultValue={this.state.detailValue} onPressEnter={this.onPressEnter} />\r\n                </div>\r\n            );\r\n        } else {\r\n            return(\r\n                <div className=\"profileDetail\">\r\n                    <h5>{this.state.detailName}:</h5><span className=\"profileDetailValue\">{this.state.detailValue}</span>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <li>\r\n                {this.displayView()}\r\n                {this.state.isEditable && \r\n                    <Button className=\"editProfileDetailButton\" onClick={this.displayEdit}>\r\n                        <EditOutlined />\r\n                    </Button>\r\n                }\r\n                {this.state.displayInvalid &&\r\n                    <span className=\"invalidInputMessage\">Invalid input for {this.state.detailName}</span>\r\n                }\r\n            </li>\r\n        );\r\n    }\r\n}\r\nexport default ProfileDetail;","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport \"./styles.css\";\r\nimport 'antd/dist/antd.css';\r\nimport { Card, Upload, message } from \"antd\";\r\nimport ImgCrop from 'antd-img-crop';\r\n\r\nimport Header from '../Header';\r\nimport NavBar from '../NavBar';\r\nimport ProfileDetail from '../ProfileDetail';\r\nimport uploadPlusImage from './static/opaque-upload-profile.png';\r\nimport editProfileImagePencil from './static/pencil-edit-icon.png';\r\n\r\nimport { getUserType, getUserProfileInfo, updateUserProfileInfo } from '../../actions/user';\r\nimport { getDoctorByID } from '../../actions/doctor';\r\nimport { getInstitutionInfo } from '../../actions/institution';\r\nimport { UserType } from '../../constants/userType';\r\nimport ProfileImage from '../ProfileImage';\r\n\r\nclass Profile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.history.push(\"/profile\");\r\n\r\n        this.setDoctorInfo = this.setDoctorInfo.bind(this);\r\n        this.setInstitutionInfo = this.setInstitutionInfo.bind(this);\r\n        this.updateUserProfileDetail = this.updateUserProfileDetail.bind(this);\r\n\r\n        this.state = {\r\n            user: this.props.appComponent.state.loggedInUser,\r\n            userType: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.setProfileDetails();\r\n    }\r\n\r\n    setProfileDetails = () => {\r\n        getUserType(this.props.appComponent.state.loggedInUser, null, this).then( (userType) => {\r\n            return this.state;\r\n        })\r\n        .then( (state) => {\r\n            return getUserProfileInfo(null, null, this).then( (profileInfoJson) => {\r\n                return this.state;\r\n            })\r\n        }).then( (state) => {\r\n            if(this.state.userType === UserType.patient) {\r\n                getDoctorByID(this.state.doctor, this.setDoctorInfo).then( (doctorJson) => {\r\n                    return this.state;\r\n                })\r\n            }\r\n            else if(this.state.userType === UserType.doctor) {\r\n                getInstitutionInfo(this.state.institutionID, this.setInstitutionInfo).then( (institutionJson) => {\r\n                    return this.state;\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    setDoctorInfo(doctorInfo) {\r\n        this.setState({doctor: doctorInfo.generalProfile});\r\n    }\r\n\r\n    setInstitutionInfo(institutionInfo) {\r\n        this.setState({institutionInfo: institutionInfo});\r\n    }\r\n\r\n    uploadProfileImage = data => {\r\n        this.setState({profileImageFile: data.file})\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"profilePage\">\r\n                <Header appComponent={this.props.appComponent}/>\r\n                <NavBar appComponent={this.props.appComponent} />\r\n                <div className=\"profilePageContent\">\r\n                    <ImgCrop rotate grid shape='round' beforeCrop={beforeCrop}>\r\n                        <Upload showUploadList={false} onChange={this.uploadProfileImage} action=\"/api/profile/image\">\r\n                            <ProfileImage file={this.state.profileImageFile} altName=\"bigProfileImageforLoggedInUser\" imgClassName=\"bigUserProfileImage\"/>\r\n                            {/*<img alt=\"bigProfileImageforLoggedInUser\" className=\"bigUserProfileImage\" src={this.getUserProfileImage()}/> */}\r\n                            <img alt=\"uploadImageOverlay\" className=\"uploadProfileImageOverlay\" src={uploadPlusImage} />\r\n                            <img alt=\"editProfileImagePencil\" className=\"editProfileImagePencil\" src={editProfileImagePencil} />\r\n                        </Upload>\r\n                    </ImgCrop>\r\n                    {this.state.generalProfile && this.state.generalProfile.firstName && this.state.generalProfile.lastName &&\r\n                        <h1 className=\"loggedInUserProfileName\">\r\n                            {this.state.userType === UserType.doctor && \"Dr. \"}\r\n                            {this.state.generalProfile.firstName + \" \" + this.state.generalProfile.lastName}\r\n                        </h1>\r\n                    }\r\n                    <Card className=\"profileInfoCard\">\r\n                        <ul>\r\n                            {this.state.generalProfile && this.state.generalProfile.email &&\r\n                                <ProfileDetail detailName=\"Email\" detailValue={this.state.generalProfile.email} isEditable={true} detail=\"generalProfile.email\" profileComponent={this}/>\r\n                            }\r\n                            {this.state.userType === UserType.patient && this.state.address && this.state.postalCode && this.state.HCN &&\r\n                                <div className=\"specificUserTypeDetails\">\r\n                                    <ProfileDetail detailName=\"Address\" detailValue={this.state.address} isEditable={true} detail=\"address\" profileComponent={this}/>\r\n                                    <ProfileDetail detailName=\"Postal Code\" detailValue={this.state.postalCode} isEditable={true} detail=\"postalCode\" profileComponent={this}/>\r\n                                    <ProfileDetail detailName=\"Health Card Number\" detailValue={this.state.HCN} isEditable={false}/>\r\n                                    {this.state.doctor && this.state.doctor.firstName && this.state.doctor.lastName &&\r\n                                        <ProfileDetail detailName=\"Doctor\" \r\n                                                    detailValue={this.state.doctor.firstName + \" \" + this.state.doctor.lastName}\r\n                                                    isEditable={false}/>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {this.state.userType === UserType.doctor && this.state.MID &&\r\n                                <div className=\"specificUserTypeDetails\">\r\n                                    <ProfileDetail detailName=\"Medical Identification Number\" detailValue={this.state.MID} isEditable={false}/>\r\n                                </div>\r\n                            }\r\n                        </ul>\r\n                    </Card>\r\n                    {this.state.userType === UserType.doctor && this.state.institutionInfo &&\r\n                        <Card className=\"institutionInfoCard\">\r\n                            <h3>{this.state.institutionInfo.name}</h3>\r\n                            <ul>\r\n                                <ProfileDetail detailName=\"Address\" detailValue={this.state.institutionInfo.address} isEditable={false}/>\r\n                                <ProfileDetail detailName=\"Postal Code\" detailValue={this.state.institutionInfo.postalCode} isEditable={false}/>\r\n                                <ProfileDetail detailName=\"Phone Number\" detailValue={this.state.institutionInfo.phoneNumber} isEditable={false}/>\r\n                            </ul>\r\n                        </Card>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    updateUserProfileDetail(profileDetail, value, profileDetailComponent) {\r\n        updateUserProfileInfo({name: profileDetail, value: value}, this).then( (profileInfoJson) => {\r\n            /* if generalProfile.email for example, then replace entire generalProfile,\r\n            since  profileInfoJson[generalProfile.email] doesn't work */\r\n            if(profileDetail.split(\".\").length > 1) {\r\n                const profileDetailName = profileDetail.split(\".\")[0];\r\n                const profileDetailName2 = profileDetail.split(\".\")[1];\r\n                profileDetailComponent.setState({detailValue: profileInfoJson[profileDetailName][profileDetailName2]});\r\n            } else {\r\n                profileDetailComponent.setState({detailValue: profileInfoJson[profileDetail]});\r\n            }\r\n            \r\n            profileDetailComponent.displayInvalidinput(false);\r\n        }).catch( error => {\r\n            profileDetailComponent.displayInvalidinput(true);\r\n        })\r\n        this.forceUpdate();\r\n    }\r\n}\r\n\r\nfunction beforeCrop(file) {\r\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    if (!isJpgOrPng) {\r\n        message.error('You can only upload JPG/PNG file!');\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n        message.error('Image must smaller than 2MB!');\r\n    }\r\n    return isJpgOrPng && isLt2M;\r\n}\r\n\r\nexport default withRouter(Profile);","import React from 'react';\r\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\r\nimport './App.css';\r\n\r\nimport Home from './react-components/Home';\r\nimport SignUp from './react-components/SignUp';\r\nimport Dashboard from './react-components/Dashboard';\r\nimport FileUpload from './react-components/FileUpload';\r\nimport Request from './react-components/Request';\r\n\r\nimport AdminInstitutions from './react-components/AdminInstitutions';\r\nimport AdminInstitutionView from './react-components/AdminInstitutionView';\r\nimport AdminDoctors from \"./react-components/AdminDoctors\";\r\nimport AdminDoctorView from \"./react-components/AdminDoctorView\";\r\nimport AdminPatients from \"./react-components/AdminPatients\";\r\nimport AdminPatientView from \"./react-components/AdminPatientView\";\r\nimport ResultsOverview from './react-components/ResultsOverview';\r\nimport Profile from './react-components/Profile';\r\nimport { readCookie, getUserType } from './actions/user';\r\nimport { UserType } from './constants/userType';\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        readCookie(this); // sees if a user is logged in.\r\n        this.getLoggedInUserView = this.getLoggedInUserView.bind(this);\r\n        this.getDefaultView = this.getDefaultView.bind(this);\r\n    }\r\n\r\n    state = {\r\n        loggedInUser: null\r\n    }\r\n\r\n    getLoggedInUserView() {\r\n        if(this.state.userType === UserType.admin) {\r\n            return <AdminInstitutions history={this.history} appComponent={this}/>\r\n        }\r\n        return <Dashboard history={this.history} appComponent={this}/>\r\n    }\r\n\r\n    getDefaultView() {\r\n        return <Home history={this.history} appComponent={this}/>\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <BrowserRouter basename=\"/MedPort\">\r\n                <Switch>\r\n                    <Route\r\n                        exact path={[\"/\", \"/dashboard\", \"/admin/institutions\"] /* any of these URLs are accepted. */ }\r\n                        render={({ history }) => {\r\n                            this.history = history;\r\n                            return(\r\n                                <div className=\"App\">\r\n                                    { !this.state.loggedInUser ? this.getDefaultView() : this.getLoggedInUserView()}\r\n                                </div>\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Route exact path='/signup' render={() =>\r\n                        (<SignUp history={this.history} appComponent={this} />)}/>\r\n\r\n                    {(this.state.userType === \"patient\" || this.state.userType === \"doctor\") &&\r\n                        <Route exact path='/profile' render={({ history }) =>\r\n                            (<Profile history={this.history} appComponent={this} />)}/>}\r\n                    {(this.state.userType === \"patient\" || this.state.userType === \"doctor\") &&\r\n                        <Route exact path='/request' render={({ history }) =>\r\n                            (<Request history={this.history} appComponent={this} />)}/>\r\n                    }\r\n                    {(this.state.userType === \"patient\" || this.state.userType === \"doctor\") &&\r\n                        <Route exact path='/upload' render={({ history }) =>\r\n                            (<FileUpload history={this.history} appComponent={this} />)}/>\r\n                    }\r\n                    \r\n                    {/* {this.state.userType === \"admin\" &&\r\n                        <Route exact path='/admin/institutions' render={({ history }) =>\r\n                        (<AdminInstitutions history={this.history} appComponent={this} />)}/>\r\n                    } */}\r\n\r\n                    {this.state.userType === \"admin\" &&\r\n                    <Route exact path='/admin/institutions/:id' render={({ history }) =>\r\n                      (<AdminInstitutionView history={this.history} appComponent={this} />)}/>\r\n                    }\r\n\r\n                    {this.state.userType === \"admin\" &&\r\n                    <Route exact path='/admin/doctors' render={({ history }) =>\r\n                              (<AdminDoctors history={this.history} appComponent={this} />)}/>\r\n                    }\r\n\r\n                    {this.state.userType === \"admin\" &&\r\n                    <Route exact path='/admin/doctors/:id' render={({ history }) =>\r\n                              (<AdminDoctorView history={this.history} appComponent={this} />)}/>\r\n                    }\r\n\r\n                    {this.state.userType === \"admin\" &&\r\n                    <Route exact path='/admin/patients' render={({ history }) =>\r\n                              (<AdminPatients history={this.history} appComponent={this} />)}/>\r\n                    }\r\n\r\n                    {this.state.userType === \"admin\" &&\r\n                    <Route exact path='/admin/patients/:id' render={({ history }) =>\r\n                              (<AdminPatientView history={this.history} appComponent={this} />)}/>\r\n                    }\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Route exact path='/results' render={() =>\r\n                        (<ResultsOverview history={this.history} appComponent={this} />)}/>\r\n\t\t\t\t\t\t\r\n                    {/* <Route exact path='/' render={() =>\r\n                        (<Home appComponent={this}/>)}/>\r\n                    <Route exact path='/dashboard' render={() =>\r\n                        (<Dashboard appComponent={this} />)}/>\r\n                    <Route exact path='/upload' render={() =>\r\n                        (<FileUpload appComponent={this} />)}/>\r\n                    <Route exact path='/request' render={() =>\r\n                        (<Request appComponent={this} />)}/>\r\n                    <Route exact path='/admin/institutions' render={() =>\r\n                        (<AdminInstitutions appComponent={this} />)}/>\r\n                    <Route exact path='/admin/institutions/:id' render={() =>\r\n                        (<AdminInstitutionView appComponent={this} />)}/>\r\n                    <Route exact path='/admin/doctors' render={() =>\r\n                        (<AdminDoctors appComponent={this} />)}/>\r\n                    <Route exact path='/admin/doctors/:id' render={() =>\r\n                        (<AdminDoctorView appComponent={this} />)}/>\r\n                    <Route exact path='/admin/patients' render={() =>\r\n                        (<AdminPatients appComponent={this} />)}/>\r\n                    <Route exact path='/admin/patients/:id' render={() =>\r\n                        (<AdminPatientView appComponent={this} />)}/>\r\n                    <Route exact path='/results' render={() =>\r\n                        (<Result appComponent={this} />)}/> */}\r\n                    { /* 404 if URL isn't expected. */}\r\n                    <Route render={() => <div>404 Not found</div>} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}